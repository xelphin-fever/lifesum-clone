{"version":3,"sources":["components/ProgressCircle.js","components/DataBar.js","components/DateChanger.js","components/MealBar.js","firebase.js","pages/SignIn.js","functions/helperFunctions.js","functions/constants.js","pages/Home.js","components/DataList.js","stylesheets/styledComponents.js","components/MealFoodBar.js","pages/Meal.js","components/FoodBar.js","pages/Search.js","pages/Food.js","pages/DataSheet.js","functions/reducers.js","pages/Configure.js","App.js","reportWebVitals.js","index.js"],"names":["DataBar","props","fontSize2","fontSize","Math","round","Number","circleSize","fontSize3","className","CircularProgress","variant","value","progress","size","color","thickness","style","calories","message","useState","config","goalCal","setGoalCal","goalCarb","goalProtein","goalFat","goalMacro","setGoalMacro","eaten","setEaten","eatenMacros","setEatenMacros","burnt","setBurnt","sumCalories","setSumCalories","caloriesLeft","setCaloriesLeft","macrosLeft","setMacrosLeft","progressCal","setProgressCal","progressMacro","setProgressMacro","progressCalColor","setProgressCalColor","progressMacroColor","setProgressMacroColor","calMessage","setCalMessage","macroMessage","setMacroMessage","useEffect","data","sumCal","sumBurnt","sumCarb","sumProtein","sumFat","sum","left","calc","copyMacrosLeft","copyMacrosProg","progColorCopy","copyMacroMessage","i","map","macro","count","to","DateChanger","onClick","dispatchDate","type","date","id","onChange","event","newDate","Date","currentTarget","setDate","getDate","payload","MealBar","meal","setMeal","totalCal","setTotalCal","options","title","emoji","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","firestore","auth","SignIn","onSignUp","setOnSignUp","placeholder","maxLength","autoComplete","username","document","querySelector","email","password","promise","createUserWithEmailAndPassword","then","result","changeSign","currentUser","user","updateProfile","displayName","catch","e","alert","signInWithEmailAndPassword","formatDate","dd","String","padStart","mm","getMonth","yyyy","getFullYear","capitalize","string","charAt","toUpperCase","slice","findNutrient","food","name","myNutrient","nutrition","nutrients","filter","nut","length","updateBasicInfo","amount","operator","newData","meals","updateNutrientInfo","nutrientName","percent","obj","undefined","percentOfDailyNeeds","nutritionFrame","dataFrame","breakfast","foods","lunch","dinner","snacks","foodFrame","defaultConfigure","Home","isSigned","setIsSigned","setData","abortController","AbortController","signal","aborted","abort","onAuthStateChanged","usersRef","collection","doc","uid","get","docSnapshot","exists","onSnapshot","set","signOut","ans","DataList","findPercent","types","fat","protein","carb","typeColor","typeName","goal","backgroundColor","Dropdown","styled","div","DropdownElement","h3","MessageDiv","PrimaryButton","width","BackArrowDiv","MealFoodBar","removeFood","updated","order","splice","forEach","typePair","nutrient","deleteFood","update","image","src","alt","unit","Meal","useRouteMatch","url","split","progressColor","setProgressColor","setProgress","allData","setAllData","myDoc","error","console","log","updatedFullData","FoodBar","imgSrc","Search","search","setSearch","input","getElementById","pressedEnter","keyCode","preventDefault","addEventListener","removeEventListener","a","fetch","process","response","json","dispatchResults","results","fetchResults","item","Food","link","foodId","setResult","setAmount","setUnit","macrosPer","setMacrosPer","myData","myMacros","caloricBreakdown","percentProtein","percentFat","percentCarbs","min","possibleUnits","push","addFood","DataSheet","dateReducer","state","action","iDate","dDate","Error","resultsReducer","configReducer","Configure","inputCal","inputCarbs","inputProtein","inputFat","newConfig","dispatchConfig","App","useReducer","stateDate","stateResults","stateConfig","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.3611ec35.chunk.js","sourcesContent":["import React from 'react';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport '../stylesheets/ProgressCircle.css'\n\n\nconst DataBar = (props) => {\n\n  const fontSize2 = {\n    fontSize: `${Math.round(Number(props.circleSize)/5)}px`\n  }\n  const fontSize3 = {\n    fontSize: `${Math.round(Number(props.circleSize)/12)}px`\n  }\n\n  return (\n    <div  className=\"progresscircle\">\n        <CircularProgress variant=\"determinate\" value={props.progress} size={`${props.circleSize}px`} color=\"inherit\" thickness={1.2}/>\n          <div  className=\"progresscircle-text\">\n            <h2 style={fontSize2}>{props.calories}</h2>\n            <h3  style={fontSize3}>{props.message}</h3>\n        </div>\n    </div>\n  );\n}\n\nexport default DataBar;","import React, {useState, useEffect} from 'react';\n// import styled from 'styled-components'\nimport '../stylesheets/DataBar.css'\nimport ProgressCircle from './ProgressCircle';\nimport {Link} from \"react-router-dom\";\n\nconst DataBar = (props) => {\n\n  const [goalCal, setGoalCal] = useState(props.config.goalCal);\n  // Macros: [carb , protein, fat]\n  const macros = [\"Carbs\", \"Protein\", \"Fat\"];\n  const [goalMacro, setGoalMacro] = useState([props.config.goalCarb, props.config.goalProtein, props.config.goalFat]); \n  const [eaten, setEaten] = useState(0);\n  const [eatenMacros, setEatenMacros] = useState([0,0,0])\n  const [burnt, setBurnt] = useState(0);\n\n  const [sumCalories, setSumCalories] = useState(0);\n  const [caloriesLeft, setCaloriesLeft] = useState(0);\n  const [macrosLeft, setMacrosLeft] = useState([0,0,0]);\n  const [progressCal, setProgressCal] = useState(0);\n  const [progressMacro, setProgressMacro] = useState([0,0,0]);\n  const [progressCalColor, setProgressCalColor] = useState({color: \"white\"});\n  const [progressMacroColor, setProgressMacroColor] = useState([{color: \"white\"}, {color: \"white\"}, {color: \"white\"}]);\n  const [calMessage, setCalMessage] = useState(\"Calories Left\");\n  const [macroMessage, setMacroMessage] = useState([\"Grams Left\", \"Grams Left\", \"Grams Left\"]);\n\n\n  useEffect(() => {\n    setEaten(props.data.sumCal);\n    setBurnt(props.data.sumBurnt);\n    setEatenMacros([props.data.sumCarb, props.data.sumProtein, props.data.sumFat]);\n  }, [props.data]);\n  useEffect(()=> {\n    setGoalCal(props.config.goalCal);\n    setGoalMacro([props.config.goalCarb, props.config.goalProtein, props.config.goalFat]);\n  }, [props.config])\n\n\n\n  useEffect(()=> {\n    let sum = eaten -burnt;\n    sum = sum<0 ? 0 : sum;\n    setSumCalories(sum);\n    }, [eaten, burnt]);\n\n  useEffect(() => {\n    let left = goalCal - sumCalories;\n    let calc = Math.round((sumCalories/goalCal)*100);\n    if (calc>100){\n      calc = calc % 100;\n      left = sumCalories - goalCal;\n      setCalMessage(\"Calories Over\");\n      setProgressCalColor({color: \"rgb(245, 235, 146)\"})\n    } else {\n      setProgressCalColor({color: \"white\"})\n    }\n    if (calc>200){\n      calc= 100;\n    }\n    setCaloriesLeft(left);\n    setProgressCal(calc);\n  }, [sumCalories, goalCal]);\n\n  useEffect(() => {\n    let copyMacrosLeft = [...macrosLeft];\n    let copyMacrosProg = [...progressMacro];\n    let progColorCopy = [...progressMacroColor];\n    let copyMacroMessage = [...macroMessage];\n    for (let i=0; i<3; i++){\n      let left = goalMacro[i] - eatenMacros[i];\n      let calc = Math.round((eatenMacros[i]/goalMacro[i])*100);\n      if (calc>100){\n        calc = calc % 100;\n        left = eatenMacros[i] - goalMacro[i];\n        progColorCopy[i] = {color: \"rgb(245, 235, 146)\"};\n        copyMacroMessage[i] = \"Grams Over\";\n        \n      } else {\n        progColorCopy[i] = {color: \"white\"};\n      }\n      if (calc>200){\n        calc= 100;\n      }\n      copyMacrosLeft[i] = left;\n      copyMacrosProg[i] = calc;\n    }\n    setProgressMacroColor(progColorCopy);\n    setMacrosLeft(copyMacrosLeft);\n    setProgressMacro(copyMacrosProg);\n    setMacroMessage(copyMacroMessage);\n    \n  }, [eatenMacros, goalMacro])\n\n  return (\n    <div  className=\"databar\">\n      <div className=\"databar-top\">\n        <div className=\"databar-data\">\n          <h2>{eaten}</h2>\n          <h3>Calories Eaten</h3>\n        </div>\n        <div className=\"databar-calories\" style={progressCalColor}>\n          <ProgressCircle  progress={progressCal} circleSize=\"480\" calories={caloriesLeft} message={calMessage}/>\n        </div>\n        <div className=\"databar-data\">\n          <h2>{goalCal}</h2>\n          <h3>Calorie Goal</h3>\n        </div>\n      </div>\n      <div className=\"databar-bottom\">\n        {\n          macros.map((macro, count) => {\n            return <div className=\"databar-data\" key={macro} style={progressMacroColor[count]}>\n              <h2 style={{color: \"white\"}}>{macro}</h2>\n              <ProgressCircle  progress={progressMacro[count]} circleSize=\"240\" calories={macrosLeft[count]} message={macroMessage[count]}/>\n            </div>\n          })\n        }\n\n      </div>\n      <Link to={`/datasheet`}>\n        <button className=\"databar-button\">📊 Nutrient Data</button>\n      </Link>\n    </div>\n  );\n}\n\nexport default DataBar;","import React from 'react';\n// import styled from 'styled-components'\n\nconst DateChanger = (props) => {\n\n  const changeDate = (event) => {\n    const newDate = new Date(event.currentTarget.value);\n    newDate.setDate(newDate.getDate() + 1);\n    props.dispatchDate({type: 'update', payload: newDate});\n  }\n\n  return (\n    <div  className=\"datechanger\">\n      <button onClick={() => props.dispatchDate({type: 'decrement'})}>⬅</button>\n      <div>\n        <h1>{props.date}</h1>\n        <input type=\"date\" id=\"datechanger-date\" onChange={changeDate}/>\n      </div>\n      <button  onClick={() => props.dispatchDate({type: 'increment'})}>➡</button>\n    </div>\n  );\n}\n\nexport default DateChanger;","import React, {useState, useEffect} from 'react';\nimport '../stylesheets/MealBar.css';\nimport {Link} from \"react-router-dom\";\n\nconst MealBar = (props) => {\n\n  const [meal, setMeal] = useState(props.meal);\n  const [totalCal, setTotalCal] = useState(props.totalCal)\n\n  const options = {\n    \"breakfast\" : {\n      title: \"Breakfast\",\n      emoji: \"🍳\",\n    },\n    \"lunch\" : {\n      title: \"Lunch\",\n      emoji: \"🥗\",\n    },\n    \"dinner\" : {\n      title: \"Dinner\",\n      emoji: \"🍲\",\n    },\n    \"snacks\" : {\n      title: \"Snacks\",\n      emoji: \"🍐\",\n    },\n  }\n\n  useEffect(()=> {\n    setMeal(props.meal);\n    setTotalCal(props.totalCal);\n  }, [props])\n\n\n  return (\n    <div  className=\"mealbar\">\n      \n        <div className=\"mealbar-top\">\n          <h2 className=\"mealbar-emoji\">{options[meal].emoji}</h2>\n          <Link to={`/meal/${meal}`}>\n          <div className=\"mealbar-text\">\n            <h2>{options[meal].title}</h2>\n            <h3>Here I'll write down a list of foods</h3>\n          </div>\n          </Link>\n          <Link to={`/meal/${meal}/search`}>\n            <button>➕</button>\n          </Link>\n        </div>\n        <div className=\"mealbar-bottom\">\n          <h2>{totalCal} Calories</h2>\n        </div>\n    </div>\n  );\n}\n\nexport default MealBar;","import firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/firestore';\n\nvar firebaseConfig = {\n  apiKey: \"AIzaSyBuUbx8Hxva5oyPCSAAdGp9nBkzbaK1t6M\",\n  authDomain: \"lifesum-clone.firebaseapp.com\",\n  projectId: \"lifesum-clone\",\n  storageBucket: \"lifesum-clone.appspot.com\",\n  messagingSenderId: \"87225916127\",\n  appId: \"1:87225916127:web:2a81ab0a4faf08b270e76a\"\n};\n\nfirebase.initializeApp(firebaseConfig);\n\nexport const firestore = firebase.firestore();\nexport const auth = firebase.auth();\n\nexport default firebase;","import React, {useState} from 'react';\nimport firebase from '../firebase';\nimport '../stylesheets/SignIn.css'\n\nconst SignIn = (props) => {\n\n  // TODO: Listen to firestore change, update props\n  const [onSignUp, setOnSignUp] =  useState(true);\n\n  const signUp = () => {\n    const username = document.querySelector(\"#signUp-username\");\n    const email = document.querySelector(\"#signUp-email\");\n    const password = document.querySelector(\"#signUp-password\");\n    // Add User\n    let auth = firebase.auth();\n    const promise = auth.createUserWithEmailAndPassword(email.value, password.value);\n    promise.then(function(result) {\n      props.changeSign(!!firebase.auth().currentUser);\n      return result.user.updateProfile({\n        displayName: username.value\n      })\n    })\n    promise.catch((e) => (alert(e)));\n  }\n\n  const logIn = () => {\n    const email = document.querySelector('#logIn-email');\n    const password = document.querySelector('#logIn-password');\n    // CHECK LOGIN\n    let auth = firebase.auth();\n    const promise = auth.signInWithEmailAndPassword(email.value, password.value);\n    promise.then(function(result) {\n      props.changeSign(!!firebase.auth().currentUser);\n    })\n    promise.catch((e) => (alert(e)));\n\n  }\n\n\n  if (onSignUp === true) {\n    return (\n      <div className=\"page-signin\">\n        <h2>Lifesum Clone</h2>\n        <h3>Please Don't Use Real Private Information</h3>\n        <div  className=\"signin\">\n          <h1>Sign Up</h1>\n          <input type=\"text\" placeholder=\"username\" id=\"signUp-username\" maxLength=\"12\" autoComplete=\"off\"/>\n          <input type=\"email\" placeholder=\"fake email\" id=\"signUp-email\" maxLength=\"20\" autoComplete=\"off\"/>\n          <input type=\"password\" placeholder=\"password\" id=\"signUp-password\" maxLength=\"15\" autoComplete=\"off\"/>\n          <button onClick={signUp} >Submit</button>\n          <h4>Already a member?</h4>\n          <button onClick={() => {setOnSignUp(false)}} id=\"signin-btnOther\">Log In</button>\n        </div>\n      </div>\n    );\n  } else {\n    return (\n      <div  className=\"page-signin\">\n        <h2>Lifesum Clone</h2>\n        <div  className=\"signin\">\n          <h1>Log In</h1>\n          <input type=\"email\" placeholder=\"email\" id=\"logIn-email\" autoComplete=\"off\"/>\n          <input type=\"password\" placeholder=\"password\" id=\"logIn-password\" autoComplete=\"off\"/>\n          <button onClick={logIn}>Log In</button>\n          <h4>Not a member?</h4>\n          <button onClick={() => {setOnSignUp(true)}} id=\"signin-btnOther\">Sign Up</button>\n        </div>\n      </div>\n    );\n  }\n\n\n}\n\nexport default SignIn;","\n\nconst formatDate = (date) => {\n  let dd = String(date.getDate()).padStart(2, '0');\n  let mm = String(date.getMonth() + 1).padStart(2, '0'); //January is 0!\n  let yyyy = date.getFullYear();\n  date = dd + '-' + mm + '-' + yyyy;\n  return date;\n}\n\nconst capitalize = (string) => {\n  if (string !== \"\" && (typeof string === \"string\")){\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  }\n  return undefined;\n}\n\nconst findNutrient = (food, name) => {\n  const arrAll = food.nutrition.nutrients;\n  const myNutrient = arrAll.filter((nut) => nut.name === name);\n  if (myNutrient.length>0){\n    return myNutrient[0]; \n  }\n  return {\n    \"name\": \"Not Found\",\n    \"amount\": 0,\n    \"unit\": \"cal\",\n    \"percentOfDailyNeeds\": 0\n  }; \n}\nconst findNutrientData = (data, name) => {\n  const arrAll = data.nutrients;\n  \n  const myNutrient = arrAll.filter((nut) => nut.name === name);\n  if (myNutrient.length>0){\n    return myNutrient[0]; \n  }\n  return {\n    \"name\": \"Not Found\",\n    \"amount\": 0,\n    \"unit\": \"cal\",\n    \"percentOfDailyNeeds\": 0\n  }; \n}\n\n// TODO: Make function that updates the firestore data\n//    For Example, if added food in one, updates all the macros and nutrients and stuff to match\n//    Updates firestore\n//    Does 'update' to date\n\nconst updateBasicInfo = (data, meal, type, amount, operator) => {\n  // type: \"sumCal\" || \"sumFat\" || ...\n  // amount: [number]\n  let newData = {...data};\n  newData.meals[meal][type] = Math.round(operator===\"add\" ? newData.meals[meal][type] + amount : newData.meals[meal][type] - amount);\n  newData[type] = Math.round(operator===\"add\" ? newData[type] + amount : newData[type] - amount);\n  return newData;\n}\n\nconst updateNutrientInfo = (data, meal, nutrientName, amount, percent, operator) => {\n  // nutrient : \"Calcium\" || \"Zinc\" || ...\n  let newData = {...data};\n  newData.meals[meal].nutrients = newData.meals[meal].nutrients.map((obj) => {\n    if (obj.name === nutrientName) {\n      obj.amount = Math.round(operator===\"add\"? obj.amount + amount : obj.amount - amount);\n      if (obj.percentOfDailyNeeds !== undefined){\n        obj.percentOfDailyNeeds = Math.round(operator===\"add\"? obj.percentOfDailyNeeds + percent : obj.percentOfDailyNeeds - percent);\n      }\n    }\n    return obj;\n  });\n  newData.nutrients = newData.nutrients.map(obj => {\n    if (obj.name === nutrientName) {\n      obj.amount = Math.round(operator===\"add\" ? obj.amount + amount : obj.amount - amount);\n      if (obj.percentOfDailyNeeds!== undefined){\n        obj.percentOfDailyNeeds = Math.round(operator===\"add\" ? obj.percentOfDailyNeeds + percent : obj.percentOfDailyNeeds + percent);\n      }\n    }\n    return obj;\n  });\n  return newData;\n}\n\n\nconst addFood = (data, meal, food) => {\n  // data: JSON from Firestore -> Object as seen in ./constants 'dataFrame'\n  // meal: \"breakfast\" || \"lunch\" || \"dinner\" || \"snacks\"\n  // food: JSON from API -> Object as seen in ./constants 'dataFrame'\n  let newData = {...data};\n  newData.meals[meal].foods.push(food);\n  const basicTypes = [[\"sumCal\",\"Calories\"], [\"sumFat\",\"Fat\"], [\"sumProtein\",\"Protein\"], [\"sumCarb\",\"Carbohydrates\"]];\n  basicTypes.forEach(typePair => {\n    let myNutrient = food.nutrition.nutrients.filter((nutrient) => nutrient.name === typePair[1])[0];\n    newData = updateBasicInfo(newData, meal, typePair[0], myNutrient.amount, \"add\");\n  });\n  \n  food.nutrition.nutrients.forEach((nutrient) => {\n    newData = updateNutrientInfo(newData, meal, nutrient.name, nutrient.amount, nutrient.percentOfDailyNeeds, \"add\");\n  })\n  return newData;\n}\n\nconst deleteFood = (data, meal, food, order) => {\n  let newData = {...data};\n  newData.meals[meal].foods.splice(order, 1);\n  const basicTypes = [[\"sumCal\",\"Calories\"], [\"sumFat\",\"Fat\"], [\"sumProtein\",\"Protein\"], [\"sumCarb\",\"Carbohydrates\"]];\n  basicTypes.forEach(typePair => {\n    let myNutrient = food.nutrition.nutrients.filter((nutrient) => nutrient.name === typePair[1])[0];\n    newData = updateBasicInfo(newData, meal, typePair[0], myNutrient.amount, \"subtract\");\n  });\n  food.nutrition.nutrients.forEach((nutrient) => {\n    newData = updateNutrientInfo(newData, meal, nutrient.name, nutrient.amount, nutrient.percentOfDailyNeeds, \"subtract\");\n  })\n  return newData;\n}\n\n\n\nexport {formatDate, capitalize, findNutrient, addFood, deleteFood, findNutrientData}","const nutritionFrame = [\n    {\n        \"name\": \"Calories\",\n        \"amount\": 0,\n        \"unit\": \"cal\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Fat\",\n        \"amount\": 0,\n        \"unit\": \"g\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Saturated Fat\",\n        \"amount\": 0,\n        \"unit\": \"g\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Carbohydrates\",\n        \"amount\": 0,\n        \"unit\": \"g\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Net Carbohydrates\",\n        \"amount\": 0,\n        \"unit\": \"g\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Sugar\",\n        \"amount\": 0,\n        \"unit\": \"g\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Cholesterol\",\n        \"amount\": 0,\n        \"unit\": \"mg\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Sodium\",\n        \"amount\": 0,\n        \"unit\": \"mg\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Protein\",\n        \"amount\": 0,\n        \"unit\": \"g\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Vitamin C\",\n        \"amount\": 0,\n        \"unit\": \"mg\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Manganese\",\n        \"amount\": 0,\n        \"unit\": \"mg\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Fiber\",\n        \"amount\": 0,\n        \"unit\": \"g\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Vitamin B6\",\n        \"amount\": 0,\n        \"unit\": \"mg\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Copper\",\n        \"amount\": 0,\n        \"unit\": \"mg\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Vitamin B1\",\n        \"amount\": 0,\n        \"unit\": \"mg\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Folate\",\n        \"amount\": 0,\n        \"unit\": \"µg\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Potassium\",\n        \"amount\": 0,\n        \"unit\": \"mg\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Magnesium\",\n        \"amount\": 0,\n        \"unit\": \"mg\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Vitamin B3\",\n        \"amount\": 0,\n        \"unit\": \"mg\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Vitamin B5\",\n        \"amount\": 0,\n        \"unit\": \"mg\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Vitamin B2\",\n        \"amount\": 0,\n        \"unit\": \"mg\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Iron\",\n        \"amount\": 0,\n        \"unit\": \"mg\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Calcium\",\n        \"amount\": 0,\n        \"unit\": \"mg\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Vitamin A\",\n        \"amount\": 0,\n        \"unit\": \"IU\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Zinc\",\n        \"amount\": 0,\n        \"unit\": \"mg\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Phosphorus\",\n        \"amount\": 0,\n        \"unit\": \"mg\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Vitamin K\",\n        \"amount\": 0,\n        \"unit\": \"µg\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Selenium\",\n        \"amount\": 0,\n        \"unit\": \"µg\",\n        \"percentOfDailyNeeds\":0\n    },\n    {\n        \"name\": \"Vitamin E\",\n        \"amount\": 0,\n        \"unit\": \"mg\",\n        \"percentOfDailyNeeds\": 0\n    }\n]\n\n\n\nconst dataFrame = {\n  sumCal : 0,\n  sumFat : 0,\n  sumProtein : 0,\n  sumCarb : 0,\n  sumBurnt : 0,\n  meals: {\n    breakfast: {\n      sumCal : 0,\n      sumFat : 0,\n      sumProtein : 0,\n      sumCarb : 0,\n      foods: [],\n      nutrients: nutritionFrame,\n    },\n    lunch: {\n      sumCal : 0,\n      sumFat : 0,\n      sumProtein : 0,\n      sumCarb : 0,\n      foods: [],\n      nutrients: nutritionFrame,\n    },\n    dinner: {\n      sumCal : 0,\n      sumFat : 0,\n      sumProtein : 0,\n      sumCarb : 0,\n      foods: [],\n      nutrients: nutritionFrame,\n    },\n    snacks: {\n      sumCal : 0,\n      sumFat : 0,\n      sumProtein : 0,\n      sumCarb : 0,\n      foods: [],\n      nutrients: nutritionFrame,\n    },\n  },\n  nutrients: nutritionFrame,\n};\n\n\nconst foodFrame = {\n  \"id\": 1111,\n  \"name\": \"name\",\n  \"nameClean\": \"name clean\",\n  \"amount\": 1,\n  \"unit\": \"g\",\n  \"possibleUnits\": [\n    \"piece\",\n    \"slice\",\n    \"fruit\",\n    \"g\",\n    \"oz\",\n    \"cup\",\n    \"serving\"\n  ],\n  \"image\": \"imgFile\",\n  \"meta\": [],\n  \"nutrition\": {\n      \"nutrients\": nutritionFrame,\n      \"caloricBreakdown\": {\n          \"percentProtein\": 30,\n          \"percentFat\": 20,\n          \"percentCarbs\": 50\n      },\n      \"weightPerServing\": {\n          \"amount\": 0,\n          \"unit\": \"g\"\n      }\n  }\n}\n\nconst defaultConfigure = {\n    goalCal: 1800,\n    goalFat: 50,\n    goalProtein: 80,\n    goalCarb: 200,\n}\n\n\n// TODO: make constant for user config\n\nexport {dataFrame, foodFrame, defaultConfigure};","import React, {useState, useEffect} from 'react';\nimport DataBar from '../components/DataBar';\nimport DateChanger from '../components/DateChanger';\nimport MealBar from '../components/MealBar';\nimport SignIn from './SignIn'\nimport '../stylesheets/Home.css';\nimport firebase from '../firebase';\nimport {formatDate} from '../functions/helperFunctions';\nimport {dataFrame} from '../functions/constants';\nimport { Link } from \"react-router-dom\";\nimport {defaultConfigure} from '../functions/constants';\n\nconst Home = (props) => {\n  // TODO: Listen to firestore change, update props\n  // VARIABLES\n  const meals = [\"breakfast\", \"lunch\", \"dinner\", \"snacks\"];\n  const [date, setDate] = useState(formatDate(new Date())); // xx-xx-xx\n  const [isSigned, setIsSigned] = useState(!!firebase.auth().currentUser);\n  const [data, setData] = useState(dataFrame); // FIX: also update on any updates to Doc\n\n  useEffect(() => {\n    let abortController = new AbortController();\n    let aborted = abortController.signal.aborted;\n    if (aborted === false){\n      setDate(formatDate(props.date));\n    }\n    return () => {\n      abortController.abort();\n    };\n  }, [props.date])\n\n\n\n  // SET SIGNED STATUS\n  firebase.auth().onAuthStateChanged(() => {\n    setIsSigned(!!firebase.auth().currentUser);\n  });\n  const setSigned = (ans) => {\n    setIsSigned(ans);\n  }\n\n  // SET DATABASE\n  useEffect (() => {\n    let abortController = new AbortController();\n    let aborted = abortController.signal.aborted;\n    if (isSigned===true ){\n      let firestore = firebase.firestore();\n      const usersRef = firestore.collection('users').doc(firebase.auth().currentUser.uid).collection('days').doc(date)\n      usersRef.get()\n        .then((docSnapshot) => {\n            if (docSnapshot.exists) {\n              usersRef.onSnapshot((doc) => {\n                aborted = abortController.signal.aborted;\n                if (aborted===false){\n                  setData(doc.data());\n                }\n              });\n            } else {\n              // console.log('the doc was not found, creating it');\n              usersRef.set(dataFrame); // Created Doc\n              aborted = abortController.signal.aborted;\n              if (aborted===false){\n                setData(dataFrame);\n              }\n            }\n      });\n    }\n    return () => {\n      abortController.abort();\n    };\n  }, [isSigned, date]);\n\n\n\n\n\n  if (isSigned){\n    return (\n      <div  className=\"page-home\">\n        <div className=\"page-home-top\">\n          <button onClick={() => {firebase.auth().signOut()}}>Sign Out</button>\n          <DataBar date={date} data={data} config={props.config}/>\n        </div>\n        \n        <DateChanger date={date} dispatchDate={props.dispatchDate}/>\n        \n        <div className=\"page-home-mealbars\">\n          {meals.map((meal) => <MealBar meal={meal} totalCal={data.meals[meal].sumCal} key={meal}/>)}\n        </div>\n        <div className=\"page-home-configure\">\n          <Link to=\"/configure\">\n            <button>⚙️</button>\n          </Link>\n        </div>\n      </div>\n    );\n  } else {\n    return (\n      <SignIn changeSign={setSigned}/>\n    )\n  }\n}\n\nexport default Home;","import React from 'react';\nimport '../stylesheets/DataList.css'\nimport { PieChart } from 'react-minimal-pie-chart';\n\nconst DataList = (props) => {\n\n  const findPercent = (type) => {\n    const types = {\n      fat: Number(props.data.sumFat),\n      protein: Number(props.data.sumProtein),\n      carb: Number(props.data.sumCarb),\n    }\n    // CHANGED BELOW TO TAKE INTO ACCOUNT DIVISION BY 0\n    if (Number(props.data.sumFat)+Number(props.data.sumProtein)+Number(props.data.sumCarb)!==0){\n      return Math.round((types[type]/(Number(props.data.sumFat)+Number(props.data.sumProtein)+Number(props.data.sumCarb)))*100);\n    }\n    return 0;\n    \n  }\n\n  const typeColor = {\n    fat: \"rgb(160, 192, 160)\",\n    protein: \"rgb(128, 155, 135)\",\n    carb: \"rgb(106, 128, 115)\",\n  }\n\n  const typeName = {\n    fat: \"Fat\",\n    carb: \"Carbs\",\n    protein: \"Protein\",\n  }\n\n  const typeList = [\"fat\", \"protein\", \"carb\"];\n\n  return (\n    <div  className=\"datalist\">\n      <div className=\"datalist-portion\">\n        <h1>{props.data.sumCal} Calories</h1>\n        <hr/>\n        <div className=\"datalist-info\">\n          <h2>Recommended</h2>\n          <h2>{`${props.goal -140}-${props.goal}`} cals</h2>\n        </div>\n        <div className=\"datalist-info\">\n          <h2>Calories</h2>\n          <h2>{props.data.sumCal} cals</h2>\n        </div>\n        <hr/>\n        <div className=\"datalist-info-pie\">\n          <PieChart className=\"datalist-pie\"\n            data={[\n              { title: 'Fat', value: Number(props.data.sumFat), color: typeColor.fat },\n              { title: 'Protein', value: Number(props.data.sumProtein), color: typeColor.protein },\n              { title: 'Carb', value: Number(props.data.sumCarb), color: typeColor.carb },\n            ]}\n          />;\n          <div className=\"datalist-pie-info\">\n            {\n              typeList.map((type) => {\n                return <div className=\"datalist-info\" key={type}>\n                  <div className=\"datalist-pie-label\">\n                    <div className=\"datalist-pie-color\" style={{backgroundColor: typeColor[type]}}></div>\n                    <h2>{typeName[type]}</h2>\n                  </div>\n                  <h2>{findPercent(type)}%</h2>\n                </div>\n              })\n            }\n          </div>\n        </div>\n      </div>\n\n      <div className=\"datalist-portion\">\n        <div className=\"datalist-info\">\n          <h2>Calories</h2>\n          <h2>{props.data.sumCal} cals</h2>\n        </div>\n        <div className=\"datalist-info\">\n          <h2>Protein</h2>\n          <h2>{props.data.sumProtein}g</h2>\n        </div>\n        <div className=\"datalist-info\">\n          <h2>Carbs</h2>\n          <h2>{props.data.sumCarb}g</h2>\n        </div>\n        <div className=\"datalist-info\">\n          <h2>Fat</h2>\n          <h2>{props.data.sumFat}g</h2>\n        </div>\n      </div>\n\n    </div>\n  );\n}\n\nexport default DataList;","import styled from 'styled-components';\n\n// From w3schools\nconst Dropdown = styled.div`\n  position: relative;\n  display: inline-block;\n\n  font-size: ${props => props.fontSize || \"15px\"};\n\n  &:hover{\n    .dropdown-content {\n      display: block;\n    }\n  }\n\n  .dropdown-content {\n    display: none;\n    position: absolute;\n    background-color: #f9f9f9;\n    min-width: 160px;\n    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);\n    z-index: 1;\n  }\n\n  .dropdown-btn {\n    color: black;\n    padding: 16px;\n    font-size: 16px;\n    border: none;\n    border-bottom: 1px solid black;\n    cursor: pointer;\n    font-size: inherit;\n  }\n`;\n\nconst DropdownElement = styled.h3` \n  color: black;\n  font-size: ${props => props.fontSize || \"15px\"};\n  padding: 12px 16px;\n  text-decoration: none;\n  display: block;\n  &:hover {\n    background-color: #f1f1f1;\n  }\n`;\n\n//\n\nconst MessageDiv = styled.div`\n\n  position: relative;\n  width: fit-content;\n\n  &:hover {\n    .component-message {\n      display: block;\n    }\n  }\n  .component-message {\n    display :none;\n    position: absolute;\n    top: -70px;\n    transition: 0.3s all linear;\n    background-color: #f9f9f9;\n    padding: 10px 20px;\n    border-radius: 30px;\n    width: fit-content;\n    font-size: 15px;\n  }\n`;\n\nconst PrimaryButton = styled.div`\n  background-color: var(--primary);\n  border-radius: 50px;\n  width: ${props => props.width || \"100%\"};\n  color: white;\n  font-weight: 500;\n  font-size: 40px;\n  margin: 50px auto;\n  padding: 30px 0;\n  transition: 0.1s linear all;\n  text-align: center;\n  &: hover{\n    background-color: var(--primary-dark);\n  }\n`;\n\nconst BackArrowDiv = styled.div`\n  position: absolute;\n  top: 0;\n  left: 50px;\n  color: var(--primary-letter);\n  font-size: 40px;\n  z-index: 12;\n`;\n\n\n\nexport {Dropdown, DropdownElement, MessageDiv, PrimaryButton, BackArrowDiv};","import React from 'react';\nimport '../stylesheets/FoodBar.css';\nimport {capitalize} from \"../functions/helperFunctions\";\nimport {findNutrient, deleteFood} from '../functions/helperFunctions';\n\nconst MealFoodBar = (props) => {\n\n  const baseSrc = \"https://spoonacular.com/cdn/ingredients_100x100/\";\n\n  const removeFood = () => {\n    const updated = deleteFood(props.data, props.meal, props.food, props.order);\n    props.update(updated);\n  }\n\n  return (\n    <div  className=\"foodbar\">\n      <div className=\"foodbar-left\">\n        {\n          props.food.image ? <img src={baseSrc+props.food.image} alt={props.food.name} /> : null\n        }\n        <div className=\"foodbar-text\">\n          <h2>{capitalize(props.food.name)}</h2>\n          <h3>{findNutrient(props.food, \"Calories\").amount}cal  ⚫ {props.food.amount}{props.food.unit}</h3>\n        </div>\n      </div>\n      <button onClick={() => removeFood()}>-</button>\n    </div>\n  );\n}\n\nexport default MealFoodBar;\n\n// <h3>{findNutrient(props.food, \"Calories\")}cal  ⚫  {props.food.quantity}{props.food.unit}</h3> ","import React, {useState, useEffect} from 'react';\nimport '../stylesheets/Meal.css'\nimport { useRouteMatch, Link } from \"react-router-dom\";\nimport {formatDate} from '../functions/helperFunctions';\nimport ProgressCircle from '../components/ProgressCircle';\nimport firebase from '../firebase';\nimport {dataFrame} from '../functions/constants';\nimport DataList from '../components/DataList.js';\nimport {PrimaryButton, BackArrowDiv} from '../stylesheets/styledComponents';\nimport MealFoodBar from '../components/MealFoodBar';\n\nconst Meal = (props) => {\n  let meal = useRouteMatch('/meal/:id').url.split('/');\n  meal=meal[meal.length-1];\n  // TODO: Listen to firestore change, update props\n  const goalCal = Math.round((props.config.goalCal)/3);\n  const [data, setData] = useState(dataFrame.meals[meal]);\n  const [progressColor, setProgressColor] = useState({color: \"white\"});\n  const [progress, setProgress] = useState(0);\n  const [isSigned, setIsSigned] = useState(!!firebase.auth().currentUser);\n  const [allData, setAllData] = useState(dataFrame);\n\n  useEffect(() => {\n    // NOTE: instead of useEffect maybe listen for firestore at doc changes\n    let abortController = new AbortController();\n    let aborted = abortController.signal.aborted;\n    let firestore = firebase.firestore();\n    if (firebase.auth().currentUser && aborted!==true){\n      firestore.collection(\"users\").doc(firebase.auth().currentUser.uid).collection('days').doc(formatDate(props.date)).get().then((myDoc) => {\n        aborted = abortController.signal.aborted;\n        if (aborted!==true){\n          setData(myDoc.data().meals[meal]);\n          setAllData(myDoc.data());\n        }\n      }).catch(function (error) {\n        console.error(\"Error in Meal: \", error);\n      })\n    } else {\n      console.log('not logged in cannot update meal');\n    }\n    return () => {\n      abortController.abort();\n    }\n  }, [props.date, meal, isSigned]);\n\n  firebase.auth().onAuthStateChanged(() => {\n    setIsSigned(!!firebase.auth().currentUser);\n  });\n\n\n  useEffect(() => {\n    let calc = Math.round((data.sumCal/goalCal)*100);\n    if (calc>100){\n      calc = calc % 100;\n      setProgressColor({color: \"rgb(245, 235, 146)\"})\n    } else {\n      setProgressColor({color: \"white\"})\n    }\n    if (calc>200){\n      calc= 100;\n      setProgressColor({color: \"rgb(245, 235, 146)\"})\n    }\n    setProgress(calc);\n  }, [data, goalCal])\n\n\n  const updatedFullData = (updatedFullData) => {\n    var db = firebase.firestore();\n    db.collection('users').doc(firebase.auth().currentUser.uid).collection('days').doc(formatDate(props.date)).update(updatedFullData);\n    props.dispatchDate({type: 'reload'});\n  }\n\n\n  return (\n    <div  className=\"page-meal\">\n      <div className=\"page-meal-top\">\n        <div className=\"page-meal-progress\" style={progressColor}>\n          <ProgressCircle  progress={progress} circleSize=\"400\" calories={data.sumCal} message={\"calories eaten\"}/>\n        </div>\n        <h2>{meal}</h2>\n        <h3>{formatDate(props.date)}</h3>\n      </div>\n      <Link to={`${meal}/search`} className=\"page-meal-search-link\">\n        <PrimaryButton width=\"60%\">Add Food</PrimaryButton>\n      </Link>\n      <div className=\"page-meal-foodlist\">\n        {\n          data.foods.map((food, count) => {\n            return <MealFoodBar food={food} key={count} order={count} data={allData} meal={meal} update={updatedFullData} />\n          })\n        }\n      </div>\n      <div className=\"page-meal-datalist\">\n        <DataList data={data} goal={goalCal}/>\n      </div>\n\n      <BackArrowDiv>\n        <Link to=\"/lifesum-clone\">\n          <h2>⬅</h2>\n        </Link>\n      </BackArrowDiv>\n    </div>\n  );\n}\n\nexport default Meal;\n","import React from 'react';\nimport '../stylesheets/FoodBar.css';\nimport {capitalize} from \"../functions/helperFunctions\";\nimport {Link} from \"react-router-dom\";\n\nconst FoodBar = (props) => {\n\n  const getNumId = (id) => {\n    const arr = id.split('-');\n    return arr[1];\n  }\n\n  return (\n    <div  className=\"foodbar\">\n      <Link to={`/meal/${props.meal}/search/${getNumId(props.id)}`}>\n      <div className=\"foodbar-left\">\n        {\n          props.imgSrc ? <img src={props.imgSrc} alt={props.title} /> : null\n        }\n        <div className=\"foodbar-text\">\n          <h2>{capitalize(props.title)}</h2>\n        </div>\n      </div>\n      </Link>\n    </div>\n  );\n}\n\nexport default FoodBar;","import React, {useState, useEffect} from 'react';\nimport '../stylesheets/Search.css';\nimport {Link, useRouteMatch} from \"react-router-dom\";\nimport {capitalize} from \"../functions/helperFunctions\";\nimport FoodBar from '../components/FoodBar'\n\nconst Search = (props) => {\n  let meal = useRouteMatch('/meal/:id/search').url.split('/');\n  meal=meal[meal.length-2];\n  const [search, setSearch] = useState('');\n  const baseSrc = \"https://spoonacular.com/cdn/ingredients_100x100/\";\n\n  // LISTEN FOR 'ENTER' EVENT AND UPDATE SEARCH INPUT\n  useEffect(() => {\n    let input = document.getElementById(\"page-searchbar\");\n    const pressedEnter = (event) => {\n      if (event.keyCode === 13) {\n        event.preventDefault();\n        setSearch(input.value);\n      }\n    }\n    input.addEventListener(\"keyup\", pressedEnter);\n    return () => {\n      return input.removeEventListener(\"keyup\", pressedEnter);\n    };\n  }, []);\n\n\n  // COLLECT RESULTS FROM API\n  useEffect(() => {\n    let abortController = new AbortController();\n    let aborted = abortController.signal.aborted;\n    if (search!==''){\n      async function fetchResults() {\n        let response = await fetch(`https://api.spoonacular.com/food/ingredients/search?apiKey=${process.env.REACT_APP_SPOONACULAR_API_KEY}&query=${search}&number=25`);\n        let data = await response.json();\n        aborted = abortController.signal.aborted;\n        if (aborted === false) {\n          props.dispatchResults({type: 'update', payload: data.results});\n        }\n      }\n      fetchResults();\n    }\n    return () => {\n      abortController.abort();\n    };\n  }, [search])\n\n\n  return (\n    <div  className=\"page-search\">\n      <div className=\"page-search-top\">\n        <div className=\"page-search-nav\">\n          <Link to={`/meal/${meal}`}>\n            <button>⬅</button>\n          </Link>\n          <h2>{capitalize(meal)}</h2>\n        </div>\n        <input type=\"text\" placeholder=\"🔍 Search Food\" id=\"page-searchbar\" />\n      </div>\n      <div className=\"page-search-items\">\n        {\n          props.results.map((item) => {\n            return <FoodBar key={item.id} id={'foodId-'+item.id} title={item.name} imgSrc={baseSrc+item.image} meal={meal}/>\n          })\n        }\n      </div>\n    </div>\n  );\n}\n\nexport default Search;\n\n\n","import React, {useState, useEffect} from 'react';\nimport '../stylesheets/Food.css';\nimport {Link, useRouteMatch} from \"react-router-dom\";\nimport {foodFrame, dataFrame} from '../functions/constants';\nimport {formatDate, findNutrient, addFood} from '../functions/helperFunctions';\nimport {Dropdown, DropdownElement, MessageDiv , PrimaryButton, BackArrowDiv} from '../stylesheets/styledComponents';\nimport ProgressCircle from '../components/ProgressCircle';\nimport firebase from '../firebase';\n\nconst Food = (props) => {\n  const link = useRouteMatch('/meal/:id/search/:id').url.split('/');\n  const foodId=link[link.length-1];\n  let meal = link[link.length-3];\n  //\n  const [result, setResult] = useState(foodFrame);\n  const [data, setData] = useState(dataFrame);\n  const [amount, setAmount] = useState(1);\n  const [unit, setUnit] = useState(\"g\");\n  const [macrosPer, setMacrosPer] = useState([[\"protein\",30], [\"fat\",20], [\"carbs\", 50]]);\n\n\n  // GET DATA\n  useEffect(() => {\n    let abortController = new AbortController();\n    let aborted = abortController.signal.aborted;\n    let firestore = firebase.firestore();\n    const usersRef = firestore.collection('users').doc(firebase.auth().currentUser.uid).collection('days').doc(formatDate(props.date))\n    usersRef.get()\n      .then((docSnapshot) => {\n        if (docSnapshot.exists) {\n          usersRef.onSnapshot((doc) => {\n            aborted = abortController.signal.aborted;\n            if (aborted!==true){\n              setData(doc.data());\n            }\n          });\n        } else {\n          console.log('the doc was not found, needs to be create it');\n        }\n    });\n    return () => {\n      abortController.abort();\n    }\n  }, [props.date])\n\n  // LISTEN FOR 'ENTER' EVENT AND UPDATE AMOUNT INPUT\n  useEffect(() => {\n    let input = document.getElementById(\"page-food-amount\");\n    input.value = amount;\n    const pressedEnter = (event) => {\n      if (event.keyCode === 13) {\n        event.preventDefault();\n        setAmount(input.value);\n      }\n    }\n    input.addEventListener(\"keyup\", pressedEnter);\n    return () => {\n      return input.removeEventListener(\"keyup\", pressedEnter);\n    };\n  }, []);\n\n  // COLLECT RESULT FROM API\n  useEffect(() => {\n    let abortController = new AbortController();\n    let aborted = abortController.signal.aborted;\n    async function fetchResults() {\n      let response = await fetch(`https://api.spoonacular.com/food/ingredients/${foodId}/information?apiKey=${process.env.REACT_APP_SPOONACULAR_API_KEY}&amount=${amount}&unit=${unit}`);\n      let myData = await response.json();\n      aborted = abortController.signal.aborted;\n      if (aborted === false){\n        setResult(myData);\n      }      \n    }\n    fetchResults();\n    \n    return () => {abortController.abort();};\n  }, [amount, unit, foodId]);\n\n\n  // UPDATE VARIABLES ON RESULT CHANGE\n  useEffect(() => {\n    const myMacros = result.nutrition.caloricBreakdown;\n    setMacrosPer([[\"protein\",myMacros.percentProtein], [\"fat\",myMacros.percentFat], [\"carbs\", myMacros.percentCarbs]]);\n  }, [result])\n\n\n  // TRACK FOOD\n  const trackFood = () => {\n    const updated = addFood(data, meal, result);\n    var db = firebase.firestore();\n    db.collection('users').doc(firebase.auth().currentUser.uid).collection('days').doc(formatDate(props.date)).update(updated)\n  }\n\n\n\n  return (\n    <div  className=\"page-food\">\n      <div className=\"page-food-top\">\n        <h2>{result.name}</h2>\n      </div>\n\n      <div className=\"page-food-section\">\n        <div className=\"page-food-inputs\">\n          <MessageDiv>\n            <h2 className=\"component-message\">Press Enter to Submit</h2>\n            <input type=\"number\" min=\"1\" id=\"page-food-amount\"/>\n          </MessageDiv>\n          <Dropdown fontSize=\"55px\">\n            <button className=\"dropdown-btn\">{unit} ⏷</button>\n            <div className=\"dropdown-content\">\n              {\n                result.possibleUnits.map((unit) => {\n                  return <DropdownElement key={unit} onClick={() => setUnit(unit)}> {unit}</DropdownElement>\n                })\n              }\n            </div>\n          </Dropdown>\n        </div>\n        <div>\n          <h2>{findNutrient(result,\"Calories\").amount} cals</h2>\n        </div>\n      </div>\n\n      <div className=\"page-food-section\">\n        <h3>Nutritional Information</h3>\n        <div className=\"page-food-macros\">\n          {\n            macrosPer.map((macro) => {\n              return <ProgressCircle key={macro[0]} progress={Number(macro[1])} circleSize=\"250\" calories={`${macro[1]}%`} message={macro[0]}/>\n            })\n          }\n        </div>\n        <div className=\"page-food-nutrients\">\n          {\n            result.nutrition.nutrients.map((nutrient) => {\n              return <div className=\"page-food-nutrient\" key={nutrient.name} >\n                <div className=\"page-food-nutrient-top\">\n                  <h4 className=\"page-food-nutrient-top-text\">{nutrient.name}</h4>\n                  <h4 className=\"page-food-nutrient-top-text\">{nutrient.amount + nutrient.unit}</h4>\n                </div>\n                <div>\n                  <h4 className=\"page-food-nutrient-percent\">{nutrient.percentOfDailyNeeds}% of Daily Needs</h4>\n                </div>\n              </div>\n            })\n          }\n        </div>\n      </div>\n\n      <div className=\"page-food-trackDiv\">\n        <Link to={`/meal/${meal}`}>\n          <PrimaryButton onClick={trackFood}>Track Food</PrimaryButton>\n        </Link>\n      </div>\n\n      <BackArrowDiv>\n        <Link to={`/meal/${meal}/search`}>\n          <h2>⬅</h2>\n        </Link>\n      </BackArrowDiv>\n    </div>\n  );\n}\n\nexport default Food;","import React, {useState, useEffect} from 'react';\nimport {dataFrame} from '../functions/constants';\nimport firebase from '../firebase';\nimport {formatDate} from '../functions/helperFunctions';\nimport DataList from '../components/DataList.js';\nimport '../stylesheets/DataSheet.css';\nimport { Link } from \"react-router-dom\";\n\nconst DataSheet = (props) => {\n  const [goal, setGoal] = useState(1400);\n  const [data, setData] = useState(dataFrame);\n\n\n  useEffect(() => {\n    // NOTE: instead of useEffect maybe listen for firestore at doc changes\n    let abortController = new AbortController();\n    let aborted = abortController.signal.aborted;\n    let firestore = firebase.firestore();\n    if (firebase.auth().currentUser && aborted!==true){\n      firestore.collection(\"users\").doc(firebase.auth().currentUser.uid).collection('days').doc(formatDate(props.date)).get().then((myDoc) => {\n        aborted = abortController.signal.aborted;\n        if (aborted!==true){\n          setData(myDoc.data());\n        }\n      }).catch(function (error) {\n        console.error(\"Error in Meal: \", error);\n      })\n    } else {\n      console.log('not logged in cannot update meal');\n    }\n    return () => {\n      abortController.abort();\n    }\n  }, [props]);\n\n  return (\n    <div  className=\"datasheet\">\n      <div className=\"page-datasheet-back-div\">\n        <Link to=\"/lifesum-clone\">\n          <h2>⬅</h2>\n        </Link>\n      </div>\n      <div className=\"datasheet-section\">\n        <DataList data={data} goal={goal} className=\"datasheet-datalist\"/>\n      </div>\n      <div className=\"datasheet-section\">\n        {\n          data.nutrients.map((nutrient) => {\n            return <div className=\"page-food-nutrient\" key={nutrient.name} >\n              <div className=\"page-food-nutrient-top\">\n                <h4 className=\"page-food-nutrient-top-text\">{nutrient.name}</h4>\n                <h4 className=\"page-food-nutrient-top-text\">{nutrient.amount + nutrient.unit}</h4>\n              </div>\n              <div>\n                <h4 className=\"page-food-nutrient-percent\">{nutrient.percentOfDailyNeeds}% of Daily Needs</h4>\n              </div>\n            </div>\n          })\n        }\n      </div>\n\n    </div>\n  );\n}\n\nexport default DataSheet;","  \n\n  \n// CHANGE DATE\nfunction dateReducer (state, action) {\n  switch (action.type) {\n    case 'increment':\n      let iDate = state.date;\n      iDate.setDate(iDate.getDate() + 1);\n      console.log('added: ', iDate);\n      return {date: iDate};\n    case 'decrement':\n      let dDate = state.date;\n      dDate.setDate(dDate.getDate() -1);\n      return {date: dDate};\n    case 'reload':\n      return {date: state.date};\n    case 'update':\n      return {date: action.payload}\n    default:\n      throw new Error();\n  }\n}\n\n// CHANGE DATA\nfunction dataReducer (state, action) {\n  switch (action.type) {\n    case 'update':\n      return {data: action.payload};\n    default:\n      throw new Error();\n  }\n}\n\n// CHANGE DATA\nfunction resultsReducer (state, action) {\n  switch (action.type) {\n    case 'update':\n      return {results: action.payload};\n    default:\n      throw new Error();\n  }\n}\n\n// CHANGE CONFIGURATION\n\nfunction configReducer (state, action) {\n  switch (action.type) {\n    case 'update':\n      return {config: action.payload}\n    default:\n      throw new Error();\n  }\n}\n\n\nexport {dateReducer, dataReducer, resultsReducer, configReducer};","import React, {useState, useEffect} from 'react';\nimport { Link } from \"react-router-dom\";\nimport {PrimaryButton, BackArrowDiv} from '../stylesheets/styledComponents';\nimport '../stylesheets/Configure.css';\nimport firebase from '../firebase';\n\nconst Configure = (props) => {\n\n  useEffect(() => {\n    let abortController = new AbortController();\n    const inputCal = document.querySelector('#page-configure-calories');\n    const inputCarbs = document.querySelector('#page-configure-carbs');\n    const inputProtein = document.querySelector('#page-configure-protein');\n    const inputFat = document.querySelector('#page-configure-fat');\n    //\n    inputCal.value = props.config.goalCal;\n    inputCarbs.value = props.config.goalCarb;\n    inputProtein.value = props.config.goalProtein;\n    inputFat.value = props.config.goalFat;\n\n    return () => {\n      abortController.abort();\n    };\n  }, [props]);\n\n  const submit = () => {\n    const inputCal = document.querySelector('#page-configure-calories');\n    const inputCarbs = document.querySelector('#page-configure-carbs');\n    const inputProtein = document.querySelector('#page-configure-protein');\n    const inputFat = document.querySelector('#page-configure-fat');\n    const newConfig = {\n      goalCal: Number(inputCal.value),\n      goalFat: Number(inputFat.value),\n      goalProtein: Number(inputProtein.value),\n      goalCarb: Number(inputCarbs.value),\n    }\n    // update firestore (set it)\n    var db = firebase.firestore();\n    db.collection('users').doc(firebase.auth().currentUser.uid).collection('settings').doc('config').update(newConfig)\n    // dispatch config\n    props.dispatchConfig({type: 'update', payload: newConfig});\n  }\n\n  return (\n    <div className=\"page-configure\">\n      <div className=\"page-configure-top\">\n        <h1>Set Configurations</h1>\n      </div>\n\n      <div className=\"page-configure-inputs\">\n        <div className=\"page-configure-inputDiv\">\n          <h2>Calorie Goal: </h2>\n          <input type=\"number\" min=\"1200\" id=\"page-configure-calories\"/>\n        </div>\n        <div className=\"page-configure-inputDiv\">\n          <h2>Carbs Goal: </h2>\n          <input type=\"number\" min=\"0\" id=\"page-configure-carbs\" />\n        </div>\n        <div className=\"page-configure-inputDiv\">\n          <h2>Protein Goal: </h2>\n          <input type=\"number\" min=\"0\" id=\"page-configure-protein\" />\n        </div>\n        <div className=\"page-configure-inputDiv\">\n          <h2>Fat Goal: </h2>\n          <input type=\"number\" min=\"0\" id=\"page-configure-fat\" />\n        </div>\n      </div>\n\n      <div className=\"page-configure-submit\">\n        <PrimaryButton width=\"60%\" onClick={submit}>Submit</PrimaryButton>\n      </div>\n\n\n      <BackArrowDiv>\n        <Link to=\"/lifesum-clone\">\n          <h2>⬅</h2>\n        </Link>\n      </BackArrowDiv>\n    </div>\n  );\n}\n\nexport default Configure;\n","import './App.css';\nimport React, {useState, useEffect, useReducer} from 'react';\nimport { BrowserRouter as Router, Switch, Route} from \"react-router-dom\";\nimport Home from './pages/Home';\nimport Meal from './pages/Meal';\nimport Search from './pages/Search';\nimport Food from './pages/Food';\nimport SignIn from './pages/SignIn';\nimport DataSheet from './pages/DataSheet';\nimport {dateReducer, resultsReducer, configReducer} from './functions/reducers';\nimport Configure from './pages/Configure';\nimport {defaultConfigure} from './functions/constants';\nimport firebase from './firebase';\n\n\nfunction App() {\n\n  const [stateDate, dispatchDate] = useReducer(dateReducer, {date: new Date()});\n  const [stateResults, dispatchResults] = useReducer(resultsReducer, {results: []});\n  const [stateConfig, dispatchConfig] = useReducer(configReducer, {config: defaultConfigure});\n  const [isSigned, setIsSigned] = useState(!!firebase.auth().currentUser);\n\n  // useEffect on [] get config (from firestore) and dispatch update\n\n  // SET SIGNED STATUS\n  firebase.auth().onAuthStateChanged(() => {\n    setIsSigned(!!firebase.auth().currentUser);\n  });\n\n  // SET CONFIG\n  useEffect(() => {\n    let abortController = new AbortController();\n    let aborted = abortController.signal.aborted;\n    if (isSigned===true ){\n      let firestore = firebase.firestore();\n      const usersRef = firestore.collection('users').doc(firebase.auth().currentUser.uid).collection('settings').doc('config')\n      usersRef.get()\n        .then((docSnapshot) => {\n            if (docSnapshot.exists) {\n              usersRef.onSnapshot((doc) => {\n                aborted = abortController.signal.aborted;\n                if (aborted===false){\n                  dispatchConfig({type: 'update', payload: doc.data() })\n                }\n              });\n            } else {\n              usersRef.set(defaultConfigure); // Create Doc with Default\n            }\n      });\n    }\n    return () => {\n      abortController.abort();\n    };\n  }, [isSigned]);\n\n  return (\n    <div className=\"App\">\n      <Router>\n        <Switch> \n          <Route exact path='/lifesum-clone/' component={() => <Home date={stateDate.date} dispatchDate={dispatchDate} config={stateConfig.config} dispatchConfig={dispatchConfig}/>}/>\n          <Route exact path='/meal/:id' component={() => <Meal date={stateDate.date} dispatchDate={dispatchDate} config={stateConfig.config}/>}/>\n          <Route exact path='/lifesum-clone/signin' component={() => <SignIn/>}/>\n          <Route exact path='/meal/:id/search' component={() => <Search date={stateDate.date} results={stateResults.results} dispatchResults={dispatchResults}/>}/>\n          <Route exact path='/meal/:id/search/:id' component={() => <Food date={stateDate.date}/>}/>\n          <Route exact path='/datasheet' component={() => <DataSheet date={stateDate.date}/>}/>\n          <Route exact path='/configure' component={() => <Configure config={stateConfig.config} dispatchConfig={dispatchConfig}/>}/>\n        </Switch>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}