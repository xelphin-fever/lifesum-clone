{"version":3,"sources":["components/ProgressCircle.js","components/DataBar.js","components/DateChanger.js","components/MealBar.js","firebase.js","pages/SignIn.js","functions/helperFunctions.js","functions/constants.js","pages/Home.js","components/DataList.js","stylesheets/styledComponents.js","components/MealFoodBar.js","pages/Meal.js","components/FoodBar.js","pages/Search.js","pages/Food.js","pages/DataSheet.js","functions/reducers.js","App.js","reportWebVitals.js","index.js"],"names":["DataBar","props","fontSize2","fontSize","Math","round","Number","circleSize","fontSize3","className","CircularProgress","variant","value","progress","size","color","thickness","style","calories","message","useState","goal","eaten","setEaten","burnt","setBurnt","sumCalories","setSumCalories","caloriesLeft","setCaloriesLeft","setProgress","progressColor","setProgressColor","calMessage","setCalMessage","useEffect","data","sumCal","sumBurnt","sum","left","calc","sumCarb","sumProtein","sumFat","to","DateChanger","onClick","dispatchDate","type","date","id","onChange","event","newDate","Date","currentTarget","setDate","getDate","payload","MealBar","meal","setMeal","totalCal","setTotalCal","options","title","emoji","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","firestore","auth","SignIn","onSignUp","setOnSignUp","placeholder","maxLength","autoComplete","username","document","querySelector","email","password","promise","createUserWithEmailAndPassword","then","result","changeSign","currentUser","user","updateProfile","displayName","catch","e","alert","signInWithEmailAndPassword","formatDate","dd","String","padStart","mm","getMonth","yyyy","getFullYear","capitalize","string","charAt","toUpperCase","slice","findNutrient","food","name","myNutrient","nutrition","nutrients","filter","nut","length","updateBasicInfo","amount","operator","newData","meals","updateNutrientInfo","nutrientName","percent","map","obj","undefined","percentOfDailyNeeds","nutritionFrame","dataFrame","breakfast","foods","lunch","dinner","snacks","foodFrame","Home","isSigned","setIsSigned","setData","abortController","AbortController","signal","aborted","console","log","abort","onAuthStateChanged","usersRef","collection","doc","uid","get","docSnapshot","exists","onSnapshot","set","signOut","ans","DataList","findPercent","types","fat","protein","carb","typeColor","typeName","backgroundColor","Dropdown","styled","div","DropdownElement","h3","MessageDiv","PrimaryButton","width","BackArrowDiv","MealFoodBar","removeFood","updated","order","splice","forEach","typePair","nutrient","deleteFood","update","image","src","alt","unit","Meal","useRouteMatch","url","split","allData","setAllData","myDoc","error","updatedFullData","count","FoodBar","imgSrc","Search","search","setSearch","input","getElementById","pressedEnter","keyCode","preventDefault","addEventListener","removeEventListener","a","fetch","process","response","json","dispatchResults","results","fetchResults","item","Food","link","foodId","setResult","setAmount","setUnit","macrosPer","setMacrosPer","myMacros","caloricBreakdown","percentProtein","percentFat","percentCarbs","min","possibleUnits","macro","push","addFood","DataSheet","dateReducer","state","action","iDate","dDate","Error","resultsReducer","App","useReducer","stateDate","stateResults","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.15f489a5.chunk.js","sourcesContent":["import React from 'react';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport '../stylesheets/ProgressCircle.css'\n\n\nconst DataBar = (props) => {\n\n  const fontSize2 = {\n    fontSize: `${Math.round(Number(props.circleSize)/5)}px`\n  }\n  const fontSize3 = {\n    fontSize: `${Math.round(Number(props.circleSize)/12)}px`\n  }\n\n  return (\n    <div  className=\"progresscircle\">\n        <CircularProgress variant=\"determinate\" value={props.progress} size={`${props.circleSize}px`} color=\"inherit\" thickness={1.2}/>\n          <div  className=\"progresscircle-text\">\n            <h2 style={fontSize2}>{props.calories}</h2>\n            <h3  style={fontSize3}>{props.message}</h3>\n        </div>\n    </div>\n  );\n}\n\nexport default DataBar;","import React, {useState, useEffect} from 'react';\n// import styled from 'styled-components'\nimport '../stylesheets/DataBar.css'\nimport ProgressCircle from './ProgressCircle';\nimport {Link} from \"react-router-dom\";\n\nconst DataBar = (props) => {\n\n  const [goal, setGoal] = useState(1400); // TODO: Create Firestore Users -> [uid] -> Config -> config : has goal\n  const [eaten, setEaten] = useState(0);\n  const [burnt, setBurnt] = useState(0);\n\n  const [sumCalories, setSumCalories] = useState(0);\n  const [caloriesLeft, setCaloriesLeft] = useState(0);\n  const [progress, setProgress] = useState(0);\n  const [progressColor, setProgressColor] = useState({color: \"white\"});\n  const [calMessage, setCalMessage] = useState(\"Calories Left\");\n\n\n  useEffect(() => {\n    setEaten(props.data.sumCal);\n    setBurnt(props.data.sumBurnt);\n  }, [props.data]);\n\n\n\n  useEffect(()=> {\n    let sum = eaten -burnt;\n    sum = sum<0 ? 0 : sum;\n    setSumCalories(sum);\n    }, [eaten, burnt]);\n\n  useEffect(() => {\n    let left = goal - sumCalories;\n    let calc = Math.round((sumCalories/goal)*100);\n    if (calc>100){\n      calc = calc % 100;\n      left = sumCalories - goal;\n      setCalMessage(\"Calories Over\");\n      setProgressColor({color: \"rgb(219, 138, 105)\"})\n    } else {\n      setProgressColor({color: \"white\"})\n    }\n    if (calc>200){\n      calc= 100;\n    }\n    setCaloriesLeft(left);\n    setProgress(calc);\n  }, [sumCalories, goal])\n\n  return (\n    <div  className=\"databar\">\n      <div className=\"databar-top\">\n        <div className=\"databar-data\">\n          <h2>{eaten}</h2>\n          <h3>Calories Eaten</h3>\n        </div>\n        <div className=\"databar-calories\" style={progressColor}>\n          <ProgressCircle  progress={progress} circleSize=\"480\" calories={caloriesLeft} message={calMessage}/>\n        </div>\n        <div className=\"databar-data\">\n          <h2>{goal}</h2>\n          <h3>Calorie Goal</h3>\n        </div>\n      </div>\n      <div className=\"databar-bottom\">\n        <div className=\"databar-data\">\n          <h2>Carbs</h2>\n          <h3>{props.data.sumCarb}g</h3>\n        </div>\n        <div className=\"databar-data\">\n          <h2>Proetein</h2>\n          <h3>{props.data.sumProtein}g</h3>\n        </div>\n        <div className=\"databar-data\">\n          <h2>Fat</h2>\n          <h3>{props.data.sumFat}g</h3>\n        </div>\n      </div>\n      <Link to={`/datasheet`}>\n        <button className=\"databar-button\">ðŸ“Š Nutrient Data</button>\n      </Link>\n    </div>\n  );\n}\n\nexport default DataBar;","import React from 'react';\n// import styled from 'styled-components'\n\nconst DateChanger = (props) => {\n\n  const changeDate = (event) => {\n    const newDate = new Date(event.currentTarget.value);\n    newDate.setDate(newDate.getDate() + 1);\n    props.dispatchDate({type: 'update', payload: newDate});\n  }\n\n  return (\n    <div  className=\"datechanger\">\n      <button onClick={() => props.dispatchDate({type: 'decrement'})}>â¬…</button>\n      <div>\n        <h1>{props.date}</h1>\n        <input type=\"date\" id=\"datechanger-date\" onChange={changeDate}/>\n      </div>\n      <button  onClick={() => props.dispatchDate({type: 'increment'})}>âž¡</button>\n    </div>\n  );\n}\n\nexport default DateChanger;","import React, {useState, useEffect} from 'react';\nimport '../stylesheets/MealBar.css';\nimport {Link} from \"react-router-dom\";\n\nconst MealBar = (props) => {\n\n  const [meal, setMeal] = useState(props.meal);\n  const [totalCal, setTotalCal] = useState(props.totalCal)\n\n  const options = {\n    \"breakfast\" : {\n      title: \"Breakfast\",\n      emoji: \"ðŸ³\",\n    },\n    \"lunch\" : {\n      title: \"Lunch\",\n      emoji: \"ðŸ¥—\",\n    },\n    \"dinner\" : {\n      title: \"Dinner\",\n      emoji: \"ðŸ²\",\n    },\n    \"snacks\" : {\n      title: \"Snacks\",\n      emoji: \"ðŸ\",\n    },\n  }\n\n  useEffect(()=> {\n    setMeal(props.meal);\n    setTotalCal(props.totalCal);\n  }, [props])\n\n\n  return (\n    <div  className=\"mealbar\">\n      \n        <div className=\"mealbar-top\">\n          <h2 className=\"mealbar-emoji\">{options[meal].emoji}</h2>\n          <Link to={`/meal/${meal}`}>\n          <div className=\"mealbar-text\">\n            <h2>{options[meal].title}</h2>\n            <h3>Here I'll write down a list of foods</h3>\n          </div>\n          </Link>\n          <Link to={`/meal/${meal}/search`}>\n            <button>âž•</button>\n          </Link>\n        </div>\n        <div className=\"mealbar-bottom\">\n          <h2>{totalCal} Calories</h2>\n        </div>\n    </div>\n  );\n}\n\nexport default MealBar;","import firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/firestore';\n\nvar firebaseConfig = {\n  apiKey: \"AIzaSyBuUbx8Hxva5oyPCSAAdGp9nBkzbaK1t6M\",\n  authDomain: \"lifesum-clone.firebaseapp.com\",\n  projectId: \"lifesum-clone\",\n  storageBucket: \"lifesum-clone.appspot.com\",\n  messagingSenderId: \"87225916127\",\n  appId: \"1:87225916127:web:2a81ab0a4faf08b270e76a\"\n};\n\nfirebase.initializeApp(firebaseConfig);\n\nexport const firestore = firebase.firestore();\nexport const auth = firebase.auth();\n\nexport default firebase;","import React, {useState} from 'react';\nimport firebase from '../firebase';\nimport '../stylesheets/SignIn.css'\n\nconst SignIn = (props) => {\n\n  // TODO: Listen to firestore change, update props\n  const [onSignUp, setOnSignUp] =  useState(true);\n\n  const signUp = () => {\n    const username = document.querySelector(\"#signUp-username\");\n    const email = document.querySelector(\"#signUp-email\");\n    const password = document.querySelector(\"#signUp-password\");\n    // Add User\n    let auth = firebase.auth();\n    const promise = auth.createUserWithEmailAndPassword(email.value, password.value);\n    promise.then(function(result) {\n      props.changeSign(!!firebase.auth().currentUser);\n      return result.user.updateProfile({\n        displayName: username.value\n      })\n    })\n    promise.catch((e) => (alert(e)));\n  }\n\n  const logIn = () => {\n    const email = document.querySelector('#logIn-email');\n    const password = document.querySelector('#logIn-password');\n    // CHECK LOGIN\n    let auth = firebase.auth();\n    const promise = auth.signInWithEmailAndPassword(email.value, password.value);\n    promise.then(function(result) {\n      props.changeSign(!!firebase.auth().currentUser);\n    })\n    promise.catch((e) => (alert(e)));\n\n  }\n\n\n  if (onSignUp === true) {\n    return (\n      <div className=\"page-signin\">\n        <h2>Lifesum Clone</h2>\n        <h3>Please Don't Use Real Private Information</h3>\n        <div  className=\"signin\">\n          <h1>Sign Up</h1>\n          <input type=\"text\" placeholder=\"username\" id=\"signUp-username\" maxLength=\"12\" autoComplete=\"off\"/>\n          <input type=\"email\" placeholder=\"fake email\" id=\"signUp-email\" maxLength=\"20\" autoComplete=\"off\"/>\n          <input type=\"password\" placeholder=\"password\" id=\"signUp-password\" maxLength=\"15\" autoComplete=\"off\"/>\n          <button onClick={signUp} >Submit</button>\n          <h4>Already a member?</h4>\n          <button onClick={() => {setOnSignUp(false)}} id=\"signin-btnOther\">Log In</button>\n        </div>\n      </div>\n    );\n  } else {\n    return (\n      <div  className=\"page-signin\">\n        <h2>Lifesum Clone</h2>\n        <div  className=\"signin\">\n          <h1>Log In</h1>\n          <input type=\"email\" placeholder=\"email\" id=\"logIn-email\" autoComplete=\"off\"/>\n          <input type=\"password\" placeholder=\"password\" id=\"logIn-password\" autoComplete=\"off\"/>\n          <button onClick={logIn}>Log In</button>\n          <h4>Not a member?</h4>\n          <button onClick={() => {setOnSignUp(true)}} id=\"signin-btnOther\">Sign Up</button>\n        </div>\n      </div>\n    );\n  }\n\n\n}\n\nexport default SignIn;","\n\nconst formatDate = (date) => {\n  let dd = String(date.getDate()).padStart(2, '0');\n  let mm = String(date.getMonth() + 1).padStart(2, '0'); //January is 0!\n  let yyyy = date.getFullYear();\n  date = dd + '-' + mm + '-' + yyyy;\n  return date;\n}\n\nconst capitalize = (string) => {\n  if (string !== \"\" && (typeof string === \"string\")){\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  }\n  return undefined;\n}\n\nconst findNutrient = (food, name) => {\n  const arrAll = food.nutrition.nutrients;\n  const myNutrient = arrAll.filter((nut) => nut.name === name);\n  if (myNutrient.length>0){\n    return myNutrient[0]; \n  }\n  return {\n    \"name\": \"Not Found\",\n    \"amount\": 0,\n    \"unit\": \"cal\",\n    \"percentOfDailyNeeds\": 0\n  }; \n}\nconst findNutrientData = (data, name) => {\n  const arrAll = data.nutrients;\n  \n  const myNutrient = arrAll.filter((nut) => nut.name === name);\n  if (myNutrient.length>0){\n    return myNutrient[0]; \n  }\n  return {\n    \"name\": \"Not Found\",\n    \"amount\": 0,\n    \"unit\": \"cal\",\n    \"percentOfDailyNeeds\": 0\n  }; \n}\n\n// TODO: Make function that updates the firestore data\n//    For Example, if added food in one, updates all the macros and nutrients and stuff to match\n//    Updates firestore\n//    Does 'update' to date\n\nconst updateBasicInfo = (data, meal, type, amount, operator) => {\n  // type: \"sumCal\" || \"sumFat\" || ...\n  // amount: [number]\n  let newData = {...data};\n  newData.meals[meal][type] = Math.round(operator===\"add\" ? newData.meals[meal][type] + amount : newData.meals[meal][type] - amount);\n  newData[type] = Math.round(operator===\"add\" ? newData[type] + amount : newData[type] - amount);\n  return newData;\n}\n\nconst updateNutrientInfo = (data, meal, nutrientName, amount, percent, operator) => {\n  // nutrient : \"Calcium\" || \"Zinc\" || ...\n  let newData = {...data};\n  newData.meals[meal].nutrients = newData.meals[meal].nutrients.map((obj) => {\n    if (obj.name === nutrientName) {\n      obj.amount = Math.round(operator===\"add\"? obj.amount + amount : obj.amount - amount);\n      if (obj.percentOfDailyNeeds !== undefined){\n        obj.percentOfDailyNeeds = Math.round(operator===\"add\"? obj.percentOfDailyNeeds + percent : obj.percentOfDailyNeeds - percent);\n      }\n    }\n    return obj;\n  });\n  newData.nutrients = newData.nutrients.map(obj => {\n    if (obj.name === nutrientName) {\n      obj.amount = Math.round(operator===\"add\" ? obj.amount + amount : obj.amount - amount);\n      if (obj.percentOfDailyNeeds!== undefined){\n        obj.percentOfDailyNeeds = Math.round(operator===\"add\" ? obj.percentOfDailyNeeds + percent : obj.percentOfDailyNeeds + percent);\n      }\n    }\n    return obj;\n  });\n  return newData;\n}\n\n\nconst addFood = (data, meal, food) => {\n  // data: JSON from Firestore -> Object as seen in ./constants 'dataFrame'\n  // meal: \"breakfast\" || \"lunch\" || \"dinner\" || \"snacks\"\n  // food: JSON from API -> Object as seen in ./constants 'dataFrame'\n  let newData = {...data};\n  newData.meals[meal].foods.push(food);\n  const basicTypes = [[\"sumCal\",\"Calories\"], [\"sumFat\",\"Fat\"], [\"sumProtein\",\"Protein\"], [\"sumCarb\",\"Carbohydrates\"]];\n  basicTypes.forEach(typePair => {\n    let myNutrient = food.nutrition.nutrients.filter((nutrient) => nutrient.name === typePair[1])[0];\n    newData = updateBasicInfo(newData, meal, typePair[0], myNutrient.amount, \"add\");\n  });\n  \n  food.nutrition.nutrients.forEach((nutrient) => {\n    newData = updateNutrientInfo(newData, meal, nutrient.name, nutrient.amount, nutrient.percentOfDailyNeeds, \"add\");\n  })\n  return newData;\n}\n\nconst deleteFood = (data, meal, food, order) => {\n  let newData = {...data};\n  newData.meals[meal].foods.splice(order, 1);\n  const basicTypes = [[\"sumCal\",\"Calories\"], [\"sumFat\",\"Fat\"], [\"sumProtein\",\"Protein\"], [\"sumCarb\",\"Carbohydrates\"]];\n  basicTypes.forEach(typePair => {\n    let myNutrient = food.nutrition.nutrients.filter((nutrient) => nutrient.name === typePair[1])[0];\n    newData = updateBasicInfo(newData, meal, typePair[0], myNutrient.amount, \"subtract\");\n  });\n  food.nutrition.nutrients.forEach((nutrient) => {\n    newData = updateNutrientInfo(newData, meal, nutrient.name, nutrient.amount, nutrient.percentOfDailyNeeds, \"subtract\");\n  })\n  return newData;\n}\n\n\n\nexport {formatDate, capitalize, findNutrient, addFood, deleteFood, findNutrientData}","const nutritionFrame = [\n    {\n        \"name\": \"Calories\",\n        \"amount\": 0,\n        \"unit\": \"cal\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Fat\",\n        \"amount\": 0,\n        \"unit\": \"g\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Saturated Fat\",\n        \"amount\": 0,\n        \"unit\": \"g\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Carbohydrates\",\n        \"amount\": 0,\n        \"unit\": \"g\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Net Carbohydrates\",\n        \"amount\": 0,\n        \"unit\": \"g\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Sugar\",\n        \"amount\": 0,\n        \"unit\": \"g\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Cholesterol\",\n        \"amount\": 0,\n        \"unit\": \"mg\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Sodium\",\n        \"amount\": 0,\n        \"unit\": \"mg\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Protein\",\n        \"amount\": 0,\n        \"unit\": \"g\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Vitamin C\",\n        \"amount\": 0,\n        \"unit\": \"mg\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Manganese\",\n        \"amount\": 0,\n        \"unit\": \"mg\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Fiber\",\n        \"amount\": 0,\n        \"unit\": \"g\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Vitamin B6\",\n        \"amount\": 0,\n        \"unit\": \"mg\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Copper\",\n        \"amount\": 0,\n        \"unit\": \"mg\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Vitamin B1\",\n        \"amount\": 0,\n        \"unit\": \"mg\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Folate\",\n        \"amount\": 0,\n        \"unit\": \"Âµg\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Potassium\",\n        \"amount\": 0,\n        \"unit\": \"mg\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Magnesium\",\n        \"amount\": 0,\n        \"unit\": \"mg\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Vitamin B3\",\n        \"amount\": 0,\n        \"unit\": \"mg\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Vitamin B5\",\n        \"amount\": 0,\n        \"unit\": \"mg\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Vitamin B2\",\n        \"amount\": 0,\n        \"unit\": \"mg\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Iron\",\n        \"amount\": 0,\n        \"unit\": \"mg\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Calcium\",\n        \"amount\": 0,\n        \"unit\": \"mg\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Vitamin A\",\n        \"amount\": 0,\n        \"unit\": \"IU\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Zinc\",\n        \"amount\": 0,\n        \"unit\": \"mg\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Phosphorus\",\n        \"amount\": 0,\n        \"unit\": \"mg\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Vitamin K\",\n        \"amount\": 0,\n        \"unit\": \"Âµg\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Selenium\",\n        \"amount\": 0,\n        \"unit\": \"Âµg\",\n        \"percentOfDailyNeeds\":0\n    },\n    {\n        \"name\": \"Vitamin E\",\n        \"amount\": 0,\n        \"unit\": \"mg\",\n        \"percentOfDailyNeeds\": 0\n    }\n]\n\n\n\nconst dataFrame = {\n  sumCal : 0,\n  sumFat : 0,\n  sumProtein : 0,\n  sumCarb : 0,\n  sumBurnt : 0,\n  meals: {\n    breakfast: {\n      sumCal : 0,\n      sumFat : 0,\n      sumProtein : 0,\n      sumCarb : 0,\n      foods: [],\n      nutrients: nutritionFrame,\n    },\n    lunch: {\n      sumCal : 0,\n      sumFat : 0,\n      sumProtein : 0,\n      sumCarb : 0,\n      foods: [],\n      nutrients: nutritionFrame,\n    },\n    dinner: {\n      sumCal : 0,\n      sumFat : 0,\n      sumProtein : 0,\n      sumCarb : 0,\n      foods: [],\n      nutrients: nutritionFrame,\n    },\n    snacks: {\n      sumCal : 0,\n      sumFat : 0,\n      sumProtein : 0,\n      sumCarb : 0,\n      foods: [],\n      nutrients: nutritionFrame,\n    },\n  },\n  nutrients: nutritionFrame,\n};\n\n\nconst foodFrame = {\n  \"id\": 1111,\n  \"name\": \"name\",\n  \"nameClean\": \"name clean\",\n  \"amount\": 1,\n  \"unit\": \"g\",\n  \"possibleUnits\": [\n    \"piece\",\n    \"slice\",\n    \"fruit\",\n    \"g\",\n    \"oz\",\n    \"cup\",\n    \"serving\"\n  ],\n  \"image\": \"imgFile\",\n  \"meta\": [],\n  \"nutrition\": {\n      \"nutrients\": [\n        {\n            \"name\": \"Calories\",\n            \"amount\": 170,\n            \"unit\": \"cal\",\n            \"percentOfDailyNeeds\": 10\n        },\n        {\n            \"name\": \"Fat\",\n            \"amount\": 13,\n            \"unit\": \"g\",\n            \"percentOfDailyNeeds\": 3\n        },\n        {\n            \"name\": \"Saturated Fat\",\n            \"amount\": 11,\n            \"unit\": \"g\",\n            \"percentOfDailyNeeds\": 50\n        },\n        {\n            \"name\": \"Carbohydrates\",\n            \"amount\": 56,\n            \"unit\": \"g\",\n            \"percentOfDailyNeeds\": 8\n        },\n        {\n            \"name\": \"Net Carbohydrates\",\n            \"amount\": 0,\n            \"unit\": \"g\",\n            \"percentOfDailyNeeds\": 0\n        },\n        {\n            \"name\": \"Sugar\",\n            \"amount\": 32,\n            \"unit\": \"g\",\n            \"percentOfDailyNeeds\": 60\n        },\n        {\n            \"name\": \"Cholesterol\",\n            \"amount\": 0,\n            \"unit\": \"mg\",\n            \"percentOfDailyNeeds\": 0\n        },\n        {\n            \"name\": \"Sodium\",\n            \"amount\": 0,\n            \"unit\": \"mg\",\n            \"percentOfDailyNeeds\": 0\n        },\n        {\n            \"name\": \"Protein\",\n            \"amount\": 23,\n            \"unit\": \"g\",\n            \"percentOfDailyNeeds\": 30\n        },\n        {\n            \"name\": \"Vitamin C\",\n            \"amount\": 0,\n            \"unit\": \"mg\",\n            \"percentOfDailyNeeds\": 0\n        },\n        {\n            \"name\": \"Manganese\",\n            \"amount\": 0,\n            \"unit\": \"mg\",\n            \"percentOfDailyNeeds\": 0\n        },\n        {\n            \"name\": \"Fiber\",\n            \"amount\": 0,\n            \"unit\": \"g\",\n            \"percentOfDailyNeeds\": 0\n        },\n        {\n            \"name\": \"Vitamin B6\",\n            \"amount\": 0,\n            \"unit\": \"mg\",\n            \"percentOfDailyNeeds\": 0\n        },\n        {\n            \"name\": \"Copper\",\n            \"amount\": 0,\n            \"unit\": \"mg\",\n            \"percentOfDailyNeeds\": 0\n        },\n        {\n            \"name\": \"Vitamin B1\",\n            \"amount\": 0,\n            \"unit\": \"mg\",\n            \"percentOfDailyNeeds\": 0\n        },\n        {\n            \"name\": \"Folate\",\n            \"amount\": 0,\n            \"unit\": \"Âµg\",\n            \"percentOfDailyNeeds\": 0\n        },\n        {\n            \"name\": \"Potassium\",\n            \"amount\": 0,\n            \"unit\": \"mg\",\n            \"percentOfDailyNeeds\": 0\n        },\n        {\n            \"name\": \"Magnesium\",\n            \"amount\": 0,\n            \"unit\": \"mg\",\n            \"percentOfDailyNeeds\": 0\n        },\n        {\n            \"name\": \"Vitamin B3\",\n            \"amount\": 0,\n            \"unit\": \"mg\",\n            \"percentOfDailyNeeds\": 0\n        },\n        {\n            \"name\": \"Vitamin B5\",\n            \"amount\": 0,\n            \"unit\": \"mg\",\n            \"percentOfDailyNeeds\": 0\n        },\n        {\n            \"name\": \"Vitamin B2\",\n            \"amount\": 0,\n            \"unit\": \"mg\",\n            \"percentOfDailyNeeds\": 0\n        },\n        {\n            \"name\": \"Iron\",\n            \"amount\": 0,\n            \"unit\": \"mg\",\n            \"percentOfDailyNeeds\": 0\n        },\n        {\n            \"name\": \"Calcium\",\n            \"amount\": 0,\n            \"unit\": \"mg\",\n            \"percentOfDailyNeeds\": 0\n        },\n        {\n            \"name\": \"Vitamin A\",\n            \"amount\": 0,\n            \"unit\": \"IU\",\n            \"percentOfDailyNeeds\": 0\n        },\n        {\n            \"name\": \"Zinc\",\n            \"amount\": 0,\n            \"unit\": \"mg\",\n            \"percentOfDailyNeeds\": 0\n        },\n        {\n            \"name\": \"Phosphorus\",\n            \"amount\": 0,\n            \"unit\": \"mg\",\n            \"percentOfDailyNeeds\": 0\n        },\n        {\n            \"name\": \"Vitamin K\",\n            \"amount\": 0,\n            \"unit\": \"Âµg\",\n            \"percentOfDailyNeeds\": 0\n        },\n        {\n            \"name\": \"Selenium\",\n            \"amount\": 0,\n            \"unit\": \"Âµg\",\n            \"percentOfDailyNeeds\":0\n        },\n        {\n            \"name\": \"Vitamin E\",\n            \"amount\": 0,\n            \"unit\": \"mg\",\n            \"percentOfDailyNeeds\": 0\n        }\n    ],\n      \"caloricBreakdown\": {\n          \"percentProtein\": 30,\n          \"percentFat\": 20,\n          \"percentCarbs\": 50\n      },\n      \"weightPerServing\": {\n          \"amount\": 0,\n          \"unit\": \"g\"\n      }\n  }\n}\n\n\n\n// TODO: make constant for user config\n\nexport {dataFrame, foodFrame};","import React, {useState, useEffect} from 'react';\nimport DataBar from '../components/DataBar';\nimport DateChanger from '../components/DateChanger';\nimport MealBar from '../components/MealBar';\nimport SignIn from './SignIn'\nimport '../stylesheets/Home.css';\nimport firebase from '../firebase';\nimport {formatDate} from '../functions/helperFunctions';\nimport {dataFrame} from '../functions/constants';\n\nconst Home = (props) => {\n  // TODO: Listen to firestore change, update props\n  // VARIABLES\n  const meals = [\"breakfast\", \"lunch\", \"dinner\", \"snacks\"];\n  const [date, setDate] = useState(formatDate(new Date())); // xx-xx-xx\n  const [isSigned, setIsSigned] = useState(!!firebase.auth().currentUser);\n  const [data, setData] = useState(dataFrame); // FIX: also update on any updates to Doc\n\n  useEffect(() => {\n    let abortController = new AbortController();\n    let aborted = abortController.signal.aborted;\n    if (aborted === false){\n      console.log('the date recorded now is: ', formatDate(props.date));\n      setDate(formatDate(props.date));\n    }\n    return () => {\n      abortController.abort();\n    };\n  }, [props.date])\n\n\n\n  // SET SIGNED STATUS\n  firebase.auth().onAuthStateChanged(() => {\n    console.log('(auth state change) - Signed in ', !!firebase.auth().currentUser);\n    setIsSigned(!!firebase.auth().currentUser);\n  });\n  const setSigned = (ans) => {\n    setIsSigned(ans);\n  }\n\n  // SET DATABASE\n  useEffect (() => {\n    let abortController = new AbortController();\n    let aborted = abortController.signal.aborted;\n    if (isSigned===true ){\n      console.log('(useEffect() of Home) - Am signed in');\n      let firestore = firebase.firestore();\n      const usersRef = firestore.collection('users').doc(firebase.auth().currentUser.uid).collection('days').doc(date)\n      usersRef.get()\n        .then((docSnapshot) => {\n            if (docSnapshot.exists) {\n              usersRef.onSnapshot((doc) => {\n                console.log('the doc of this date exists!', doc);\n                aborted = abortController.signal.aborted;\n                if (aborted===false){\n                  setData(doc.data());\n                }\n              });\n            } else {\n              console.log('the doc was not found, need to create it');\n              usersRef.set(dataFrame); // Created Doc\n              aborted = abortController.signal.aborted;\n              if (aborted===false){\n                setData(dataFrame);\n              }\n            }\n      });\n    }\n    return () => {\n      abortController.abort();\n    };\n  }, [isSigned, date]);\n\n\n\n  if (isSigned){\n    return (\n      <div  className=\"page-home\">\n        <div className=\"page-home-top\">\n          <button onClick={() => {firebase.auth().signOut()}}>Sign Out</button>\n          <DataBar date={date} data={data}/>\n        </div>\n        \n        <DateChanger date={date} dispatchDate={props.dispatchDate}/>\n        \n        <div className=\"page-home-mealbars\">\n          {meals.map((meal) => <MealBar meal={meal} totalCal={data.meals[meal].sumCal} key={meal}/>)}\n        </div>\n      </div>\n    );\n  } else {\n    return (\n      <SignIn changeSign={setSigned}/>\n    )\n  }\n}\n\nexport default Home;","import React from 'react';\nimport '../stylesheets/DataList.css'\nimport { PieChart } from 'react-minimal-pie-chart';\n\nconst DataList = (props) => {\n\n  const findPercent = (type) => {\n    const types = {\n      fat: Number(props.data.sumFat),\n      protein: Number(props.data.sumProtein),\n      carb: Number(props.data.sumCarb),\n    }\n    // CHANGED BELOW TO TAKE INTO ACCOUNT DIVISION BY 0\n    if (Number(props.data.sumFat)+Number(props.data.sumProtein)+Number(props.data.sumCarb)!==0){\n      return Math.round((types[type]/(Number(props.data.sumFat)+Number(props.data.sumProtein)+Number(props.data.sumCarb)))*100);\n    }\n    return 0;\n    \n  }\n\n  const typeColor = {\n    fat: \"rgb(160, 192, 160)\",\n    protein: \"rgb(128, 155, 135)\",\n    carb: \"rgb(106, 128, 115)\",\n  }\n\n  const typeName = {\n    fat: \"Fat\",\n    carb: \"Carbs\",\n    protein: \"Protein\",\n  }\n\n  const typeList = [\"fat\", \"protein\", \"carb\"];\n\n  return (\n    <div  className=\"datalist\">\n      <div className=\"datalist-portion\">\n        <h1>{props.data.sumCal} Calories</h1>\n        <hr/>\n        <div className=\"datalist-info\">\n          <h2>Recommended</h2>\n          <h2>{`${props.goal -140}-${props.goal}`} cals</h2>\n        </div>\n        <div className=\"datalist-info\">\n          <h2>Calories</h2>\n          <h2>{props.data.sumCal} cals</h2>\n        </div>\n        <hr/>\n        <div className=\"datalist-info-pie\">\n          <PieChart className=\"datalist-pie\"\n            data={[\n              { title: 'Fat', value: Number(props.data.sumFat), color: typeColor.fat },\n              { title: 'Protein', value: Number(props.data.sumProtein), color: typeColor.protein },\n              { title: 'Carb', value: Number(props.data.sumCarb), color: typeColor.carb },\n            ]}\n          />;\n          <div className=\"datalist-pie-info\">\n            {\n              typeList.map((type) => {\n                return <div className=\"datalist-info\" key={type}>\n                  <div className=\"datalist-pie-label\">\n                    <div className=\"datalist-pie-color\" style={{backgroundColor: typeColor[type]}}></div>\n                    <h2>{typeName[type]}</h2>\n                  </div>\n                  <h2>{findPercent(type)}%</h2>\n                </div>\n              })\n            }\n          </div>\n        </div>\n      </div>\n\n      <div className=\"datalist-portion\">\n        <div className=\"datalist-info\">\n          <h2>Calories</h2>\n          <h2>{props.data.sumCal} cals</h2>\n        </div>\n        <div className=\"datalist-info\">\n          <h2>Protein</h2>\n          <h2>{props.data.sumProtein}g</h2>\n        </div>\n        <div className=\"datalist-info\">\n          <h2>Carbs</h2>\n          <h2>{props.data.sumCarb}g</h2>\n        </div>\n        <div className=\"datalist-info\">\n          <h2>Fat</h2>\n          <h2>{props.data.sumFat}g</h2>\n        </div>\n      </div>\n\n    </div>\n  );\n}\n\nexport default DataList;","import styled from 'styled-components';\n\n// From w3schools\nconst Dropdown = styled.div`\n  position: relative;\n  display: inline-block;\n\n  font-size: ${props => props.fontSize || \"15px\"};\n\n  &:hover{\n    .dropdown-content {\n      display: block;\n    }\n  }\n\n  .dropdown-content {\n    display: none;\n    position: absolute;\n    background-color: #f9f9f9;\n    min-width: 160px;\n    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);\n    z-index: 1;\n  }\n\n  .dropdown-btn {\n    color: black;\n    padding: 16px;\n    font-size: 16px;\n    border: none;\n    border-bottom: 1px solid black;\n    cursor: pointer;\n    font-size: inherit;\n  }\n`;\n\nconst DropdownElement = styled.h3` \n  color: black;\n  font-size: ${props => props.fontSize || \"15px\"};\n  padding: 12px 16px;\n  text-decoration: none;\n  display: block;\n  &:hover {\n    background-color: #f1f1f1;\n  }\n`;\n\n//\n\nconst MessageDiv = styled.div`\n\n  position: relative;\n  width: fit-content;\n\n  &:hover {\n    .component-message {\n      display: block;\n    }\n  }\n  .component-message {\n    display :none;\n    position: absolute;\n    top: -70px;\n    transition: 0.3s all linear;\n    background-color: #f9f9f9;\n    padding: 10px 20px;\n    border-radius: 30px;\n    width: fit-content;\n    font-size: 15px;\n  }\n`;\n\nconst PrimaryButton = styled.div`\n  background-color: var(--primary);\n  border-radius: 50px;\n  width: ${props => props.width || \"100%\"};\n  color: white;\n  font-weight: 500;\n  font-size: 40px;\n  margin: 50px auto;\n  padding: 30px 0;\n  transition: 0.1s linear all;\n  text-align: center;\n  &: hover{\n    background-color: var(--primary-dark);\n  }\n`;\n\nconst BackArrowDiv = styled.div`\n  position: absolute;\n  top: 0;\n  left: 50px;\n  color: var(--primary-letter);\n  font-size: 40px;\n  z-index: 12;\n`;\n\n\n\nexport {Dropdown, DropdownElement, MessageDiv, PrimaryButton, BackArrowDiv};","import React from 'react';\nimport '../stylesheets/FoodBar.css';\nimport {capitalize} from \"../functions/helperFunctions\";\nimport {findNutrient, deleteFood} from '../functions/helperFunctions';\n\nconst MealFoodBar = (props) => {\n\n  const baseSrc = \"https://spoonacular.com/cdn/ingredients_100x100/\";\n\n  const removeFood = () => {\n    console.log('original data: ', props.data);\n    const updated = deleteFood(props.data, props.meal, props.food, props.order);\n    console.log('updated data: ', updated);\n    props.update(updated);\n  }\n\n  return (\n    <div  className=\"foodbar\">\n      <div className=\"foodbar-left\">\n        {\n          props.food.image ? <img src={baseSrc+props.food.image} alt={props.food.name} /> : null\n        }\n        <div className=\"foodbar-text\">\n          <h2>{capitalize(props.food.name)}</h2>\n          <h3>{findNutrient(props.food, \"Calories\").amount}cal  âš« {props.food.amount}{props.food.unit}</h3>\n        </div>\n      </div>\n      <button onClick={() => removeFood()}>-</button>\n    </div>\n  );\n}\n\nexport default MealFoodBar;\n\n// <h3>{findNutrient(props.food, \"Calories\")}cal  âš«  {props.food.quantity}{props.food.unit}</h3> ","import React, {useState, useEffect} from 'react';\nimport '../stylesheets/Meal.css'\nimport { useRouteMatch, Link } from \"react-router-dom\";\nimport {formatDate} from '../functions/helperFunctions';\nimport ProgressCircle from '../components/ProgressCircle';\nimport firebase from '../firebase';\nimport {dataFrame} from '../functions/constants';\nimport DataList from '../components/DataList.js';\nimport {PrimaryButton, BackArrowDiv} from '../stylesheets/styledComponents';\nimport MealFoodBar from '../components/MealFoodBar';\n\nconst Meal = (props) => {\n  let meal = useRouteMatch('/meal/:id').url.split('/');\n  meal=meal[meal.length-1];\n  // TODO: Listen to firestore change, update props\n  const [goal, setGoal] = useState(400); // TODO: make config collection in firestore for each user and there have the goals\n  const [data, setData] = useState(dataFrame.meals[meal]);\n  const [progressColor, setProgressColor] = useState({color: \"white\"});\n  const [progress, setProgress] = useState(0);\n  const [isSigned, setIsSigned] = useState(!!firebase.auth().currentUser);\n  const [allData, setAllData] = useState(dataFrame);\n\n  useEffect(() => {\n    // NOTE: instead of useEffect maybe listen for firestore at doc changes\n    let abortController = new AbortController();\n    let aborted = abortController.signal.aborted;\n    let firestore = firebase.firestore();\n    if (firebase.auth().currentUser && aborted!==true){\n      firestore.collection(\"users\").doc(firebase.auth().currentUser.uid).collection('days').doc(formatDate(props.date)).get().then((myDoc) => {\n        console.log('MyDoc in Meal: ', myDoc)\n        aborted = abortController.signal.aborted;\n        if (aborted!==true){\n          setData(myDoc.data().meals[meal]);\n          setAllData(myDoc.data());\n        }\n      }).catch(function (error) {\n        console.error(\"Error in Meal: \", error);\n      })\n    } else {\n      console.log('not logged in cannot update meal');\n    }\n    return () => {\n      abortController.abort();\n    }\n  }, [props.date, meal, isSigned]);\n\n  firebase.auth().onAuthStateChanged(() => {\n    setIsSigned(!!firebase.auth().currentUser);\n  });\n  // TODO: make a 'doc change' lister as well?\n\n\n  useEffect(() => {\n    let calc = Math.round((data.sumCal/goal)*100);\n    if (calc>100){\n      calc = calc % 100;\n      setProgressColor({color: \"rgb(226, 190, 113)\"})\n    } else {\n      setProgressColor({color: \"white\"})\n    }\n    if (calc>200){\n      calc= 100;\n      setProgressColor({color: \"rgb(219, 138, 105)\"})\n    }\n    setProgress(calc);\n  }, [data, goal])\n\n\n  const updatedFullData = (updatedFullData) => {\n    console.log('updated: ', updatedFullData);\n    var db = firebase.firestore();\n    db.collection('users').doc(firebase.auth().currentUser.uid).collection('days').doc(formatDate(props.date)).update(updatedFullData);\n    // dispatch 'date' update?\n    props.dispatchDate({type: 'reload'});\n  }\n\n\n  return (\n    <div  className=\"page-meal\">\n      <div className=\"page-meal-top\">\n        <div className=\"page-meal-progress\" style={progressColor}>\n          <ProgressCircle  progress={progress} circleSize=\"400\" calories={data.sumCal} message={\"calories eaten\"}/>\n        </div>\n        <h2>{meal}</h2>\n        <h3>{formatDate(props.date)}</h3>\n      </div>\n      <Link to={`${meal}/search`} className=\"page-meal-search-link\">\n        <PrimaryButton width=\"60%\">Add Food</PrimaryButton>\n      </Link>\n      <div className=\"page-meal-foodlist\">\n        {\n          data.foods.map((food, count) => {\n            return <MealFoodBar food={food} key={count} order={count} data={allData} meal={meal} update={updatedFullData} />\n          })\n        }\n      </div>\n      <div className=\"page-meal-datalist\">\n        <DataList data={data} goal={goal}/>\n      </div>\n\n      <BackArrowDiv>\n        <Link to=\"/lifesum-clone\">\n          <h2>â¬…</h2>\n        </Link>\n      </BackArrowDiv>\n    </div>\n  );\n}\n\nexport default Meal;\n","import React from 'react';\nimport '../stylesheets/FoodBar.css';\nimport {capitalize} from \"../functions/helperFunctions\";\nimport {Link} from \"react-router-dom\";\n\nconst FoodBar = (props) => {\n\n  const getNumId = (id) => {\n    const arr = id.split('-');\n    return arr[1];\n  }\n\n  return (\n    <div  className=\"foodbar\">\n      <Link to={`/meal/${props.meal}/search/${getNumId(props.id)}`}>\n      <div className=\"foodbar-left\">\n        {\n          props.imgSrc ? <img src={props.imgSrc} alt={props.title} /> : null\n        }\n        <div className=\"foodbar-text\">\n          <h2>{capitalize(props.title)}</h2>\n        </div>\n      </div>\n      </Link>\n    </div>\n  );\n}\n\nexport default FoodBar;","import React, {useState, useEffect} from 'react';\nimport '../stylesheets/Search.css';\nimport {Link, useRouteMatch} from \"react-router-dom\";\nimport {capitalize} from \"../functions/helperFunctions\";\nimport FoodBar from '../components/FoodBar'\n\nconst Search = (props) => {\n  let meal = useRouteMatch('/meal/:id/search').url.split('/');\n  meal=meal[meal.length-2];\n  // console.log('date: ', props.date);\n  const [search, setSearch] = useState('');\n  const baseSrc = \"https://spoonacular.com/cdn/ingredients_100x100/\";\n\n  // LISTEN FOR 'ENTER' EVENT AND UPDATE SEARCH INPUT\n  useEffect(() => {\n    let input = document.getElementById(\"page-searchbar\");\n    const pressedEnter = (event) => {\n      if (event.keyCode === 13) {\n        event.preventDefault();\n        console.log('clicked on enter from input, value:', input.value);\n        setSearch(input.value);\n      }\n    }\n    input.addEventListener(\"keyup\", pressedEnter);\n    return () => {\n      console.log('Search Enter: removing event listener...');\n      return input.removeEventListener(\"keyup\", pressedEnter);\n    };\n  }, []);\n\n\n  // COLLECT RESULTS FROM API\n  useEffect(() => {\n    let abortController = new AbortController();\n    let aborted = abortController.signal.aborted;\n    if (search!==''){\n      console.log('Going to fetch API info for: ',search);\n      async function fetchResults() {\n        let response = await fetch(`https://api.spoonacular.com/food/ingredients/search?apiKey=${process.env.REACT_APP_SPOONACULAR_API_KEY}&query=${search}&number=25`);\n        let data = await response.json();\n        aborted = abortController.signal.aborted;\n        console.log(\"Search abort signal is: \", aborted);\n        if (aborted === false) {\n          console.log('Results: ', data);\n          props.dispatchResults({type: 'update', payload: data.results});\n        }\n      }\n      fetchResults();\n    }\n    return () => {\n      console.log(\"Search has been aborted\");\n      abortController.abort();\n    };\n  }, [search])\n\n\n  return (\n    <div  className=\"page-search\">\n      <div className=\"page-search-top\">\n        <div className=\"page-search-nav\">\n          <Link to={`/meal/${meal}`}>\n            <button>â¬…</button>\n          </Link>\n          <h2>{capitalize(meal)}</h2>\n        </div>\n        <input type=\"text\" placeholder=\"ðŸ” Search Food\" id=\"page-searchbar\" />\n      </div>\n      <div className=\"page-search-items\">\n        {\n          props.results.map((item) => {\n            return <FoodBar key={item.id} id={'foodId-'+item.id} title={item.name} imgSrc={baseSrc+item.image} meal={meal}/>\n          })\n        }\n      </div>\n    </div>\n  );\n}\n\nexport default Search;\n\n\n","import React, {useState, useEffect} from 'react';\nimport '../stylesheets/Food.css';\nimport {Link, useRouteMatch} from \"react-router-dom\";\nimport {foodFrame, dataFrame} from '../functions/constants';\nimport {formatDate, findNutrient, addFood} from '../functions/helperFunctions';\nimport {Dropdown, DropdownElement, MessageDiv , PrimaryButton, BackArrowDiv} from '../stylesheets/styledComponents';\nimport ProgressCircle from '../components/ProgressCircle';\nimport firebase from '../firebase';\n\nconst Food = (props) => {\n  const link = useRouteMatch('/meal/:id/search/:id').url.split('/');\n  console.log('link is: ', link);\n  const foodId=link[link.length-1];\n  let meal = link[link.length-3];\n  console.log('The ID of the food is: ',foodId);\n  console.log('The meal is: ', meal);\n  console.log('The date is: ', formatDate(props.date));\n  //\n  const [result, setResult] = useState(foodFrame);\n  const [data, setData] = useState(dataFrame);\n  const [amount, setAmount] = useState(1);\n  const [unit, setUnit] = useState(\"g\");\n  const [macrosPer, setMacrosPer] = useState([[\"protein\",30], [\"fat\",20], [\"carbs\", 50]]);\n\n\n  // GET DATA\n  useEffect(() => {\n    let abortController = new AbortController();\n    let aborted = abortController.signal.aborted;\n    let firestore = firebase.firestore();\n    const usersRef = firestore.collection('users').doc(firebase.auth().currentUser.uid).collection('days').doc(formatDate(props.date))\n    usersRef.get()\n      .then((docSnapshot) => {\n        if (docSnapshot.exists) {\n          usersRef.onSnapshot((doc) => {\n            aborted = abortController.signal.aborted;\n            if (aborted!==true){\n              setData(doc.data());\n            }\n          });\n        } else {\n          console.log('the doc was not found, need to create it');\n        }\n    });\n    return () => {\n      abortController.abort();\n    }\n  }, [props.date])\n\n  // LISTEN FOR 'ENTER' EVENT AND UPDATE AMOUNT INPUT\n  useEffect(() => {\n    let input = document.getElementById(\"page-food-amount\");\n    input.value = amount;\n    const pressedEnter = (event) => {\n      if (event.keyCode === 13) {\n        event.preventDefault();\n        console.log('clicked on enter from input, value:', input.value);\n        setAmount(input.value);\n      }\n    }\n    input.addEventListener(\"keyup\", pressedEnter);\n    return () => {\n      return input.removeEventListener(\"keyup\", pressedEnter);\n    };\n  }, []);\n\n  // COLLECT RESULT FROM API\n  useEffect(() => {\n    let abortController = new AbortController();\n    let aborted = abortController.signal.aborted;\n    console.log('Amount is now: ', amount, '. Unit is: ', unit);\n    async function fetchResults() {\n      let response = await fetch(`https://api.spoonacular.com/food/ingredients/${foodId}/information?apiKey=${process.env.REACT_APP_SPOONACULAR_API_KEY}&amount=${amount}&unit=${unit}`);\n      let data = await response.json();\n      aborted = abortController.signal.aborted;\n      if (aborted === false){\n        console.log('Result Food: ', data); // FIX: yikes! 'data' is written as a const outside \n        setResult(data);\n      }      \n    }\n    fetchResults();\n    \n    return () => {abortController.abort();};\n  }, [amount, unit, foodId]);\n\n\n  // UPDATE VARIABLES ON RESULT CHANGE\n  useEffect(() => {\n    const myMacros = result.nutrition.caloricBreakdown;\n    console.log('Protein: ', myMacros.percentProtein)\n    setMacrosPer([[\"protein\",myMacros.percentProtein], [\"fat\",myMacros.percentFat], [\"carbs\", myMacros.percentCarbs]]);\n  }, [result])\n\n\n  // TRACK FOOD\n  const trackFood = () => {\n    // TODO: make a 'data' state variable that is the same as the firestore data (all from the date)\n    console.log('Going to Update Firestore');\n    console.log('The result being: ', result);\n    console.log('The data (before update) being: ', data);\n    const updated = addFood(data, meal, result);\n    var db = firebase.firestore();\n    db.collection('users').doc(firebase.auth().currentUser.uid).collection('days').doc(formatDate(props.date)).update(updated)\n\n    // TODO: updata 'data' OR button throws link to Meal page\n  }\n\n\n\n  return (\n    <div  className=\"page-food\">\n      <div className=\"page-food-top\">\n        <h2>{result.name}</h2>\n      </div>\n\n      <div className=\"page-food-section\">\n        <div className=\"page-food-inputs\">\n          <MessageDiv>\n            <h2 className=\"component-message\">Press Enter to Submit</h2>\n            <input type=\"number\" min=\"1\" id=\"page-food-amount\"/>\n          </MessageDiv>\n          <Dropdown fontSize=\"55px\">\n            <button className=\"dropdown-btn\">{unit} â·</button>\n            <div className=\"dropdown-content\">\n              {\n                result.possibleUnits.map((unit) => {\n                  return <DropdownElement key={unit} onClick={() => setUnit(unit)}> {unit}</DropdownElement>\n                })\n              }\n            </div>\n          </Dropdown>\n        </div>\n        <div>\n          <h2>{findNutrient(result,\"Calories\").amount} cals</h2>\n        </div>\n      </div>\n\n      <div className=\"page-food-section\">\n        <h3>Nutritional Information</h3>\n        <div className=\"page-food-macros\">\n          {\n            macrosPer.map((macro) => {\n              return <ProgressCircle key={macro[0]} progress={Number(macro[1])} circleSize=\"250\" calories={`${macro[1]}%`} message={macro[0]}/>\n            })\n          }\n        </div>\n        <div className=\"page-food-nutrients\">\n          {\n            result.nutrition.nutrients.map((nutrient) => {\n              return <div className=\"page-food-nutrient\" key={nutrient.name} >\n                <div className=\"page-food-nutrient-top\">\n                  <h4 className=\"page-food-nutrient-top-text\">{nutrient.name}</h4>\n                  <h4 className=\"page-food-nutrient-top-text\">{nutrient.amount + nutrient.unit}</h4>\n                </div>\n                <div>\n                  <h4 className=\"page-food-nutrient-percent\">{nutrient.percentOfDailyNeeds}% of Daily Needs</h4>\n                </div>\n              </div>\n            })\n          }\n        </div>\n      </div>\n\n      <div className=\"page-food-trackDiv\">\n        <Link to={`/meal/${meal}`}>\n          <PrimaryButton onClick={trackFood}>Track Food</PrimaryButton>\n        </Link>\n      </div>\n\n      <BackArrowDiv>\n        <Link to={`/meal/${meal}/search`}>\n          <h2>â¬…</h2>\n        </Link>\n      </BackArrowDiv>\n    </div>\n  );\n}\n\nexport default Food;","import React, {useState, useEffect} from 'react';\nimport {dataFrame} from '../functions/constants';\nimport firebase from '../firebase';\nimport {formatDate} from '../functions/helperFunctions';\nimport DataList from '../components/DataList.js';\nimport '../stylesheets/DataSheet.css';\nimport { Link } from \"react-router-dom\";\n\nconst DataSheet = (props) => {\n  const [goal, setGoal] = useState(1400);\n  const [data, setData] = useState(dataFrame);\n\n\n  useEffect(() => {\n    // NOTE: instead of useEffect maybe listen for firestore at doc changes\n    let abortController = new AbortController();\n    let aborted = abortController.signal.aborted;\n    let firestore = firebase.firestore();\n    if (firebase.auth().currentUser && aborted!==true){\n      firestore.collection(\"users\").doc(firebase.auth().currentUser.uid).collection('days').doc(formatDate(props.date)).get().then((myDoc) => {\n        console.log('MyDoc in Meal: ', myDoc)\n        aborted = abortController.signal.aborted;\n        if (aborted!==true){\n          setData(myDoc.data());\n        }\n      }).catch(function (error) {\n        console.error(\"Error in Meal: \", error);\n      })\n    } else {\n      console.log('not logged in cannot update meal');\n    }\n    return () => {\n      abortController.abort();\n    }\n  }, [props]);\n\n  return (\n    <div  className=\"datasheet\">\n      <div className=\"page-datasheet-back-div\">\n        <Link to=\"/lifesum-clone\">\n          <h2>â¬…</h2>\n        </Link>\n      </div>\n      <div className=\"datasheet-section\">\n        <DataList data={data} goal={goal} className=\"datasheet-datalist\"/>\n      </div>\n      <div className=\"datasheet-section\">\n        {\n          data.nutrients.map((nutrient) => {\n            return <div className=\"page-food-nutrient\" key={nutrient.name} >\n              <div className=\"page-food-nutrient-top\">\n                <h4 className=\"page-food-nutrient-top-text\">{nutrient.name}</h4>\n                <h4 className=\"page-food-nutrient-top-text\">{nutrient.amount + nutrient.unit}</h4>\n              </div>\n              <div>\n                <h4 className=\"page-food-nutrient-percent\">{nutrient.percentOfDailyNeeds}% of Daily Needs</h4>\n              </div>\n            </div>\n          })\n        }\n      </div>\n\n    </div>\n  );\n}\n\nexport default DataSheet;","  \n\n  \n// CHANGE DATE\nfunction dateReducer (state, action) {\n  switch (action.type) {\n    case 'increment':\n      let iDate = state.date;\n      iDate.setDate(iDate.getDate() + 1);\n      console.log('added: ', iDate);\n      return {date: iDate};\n    case 'decrement':\n      let dDate = state.date;\n      dDate.setDate(dDate.getDate() -1);\n      return {date: dDate};\n    case 'reload':\n      return {date: state.date};\n    case 'update':\n      return {date: action.payload}\n    default:\n      throw new Error();\n  }\n}\n\n// CHANGE DATA\nfunction dataReducer (state, action) {\n  switch (action.type) {\n    case 'update':\n      return {data: action.payload};\n    default:\n      throw new Error();\n  }\n}\n\n// CHANGE DATA\nfunction resultsReducer (state, action) {\n  switch (action.type) {\n    case 'update':\n      return {results: action.payload};\n    default:\n      throw new Error();\n  }\n}\n\n\nexport {dateReducer, dataReducer, resultsReducer};","import './App.css';\nimport React, {useState, useEffect, useReducer} from 'react';\nimport { BrowserRouter as Router, Switch, Route} from \"react-router-dom\";\nimport Home from './pages/Home';\nimport Meal from './pages/Meal';\nimport Search from './pages/Search';\nimport Food from './pages/Food';\nimport SignIn from './pages/SignIn';\nimport DataSheet from './pages/DataSheet';\nimport {dateReducer, resultsReducer} from './functions/reducers';\n\nfunction App() {\n\n  const [stateDate, dispatchDate] = useReducer(dateReducer, {date: new Date()});\n  const [stateResults, dispatchResults] = useReducer(resultsReducer, {results: []});\n\n  return (\n    <div className=\"App\">\n      <Router>\n        <Switch> \n          <Route exact path='/lifesum-clone/' component={() => <Home date={stateDate.date} dispatchDate={dispatchDate} />}/>\n          <Route exact path='/meal/:id' component={() => <Meal date={stateDate.date} dispatchDate={dispatchDate}/>}/>\n          <Route exact path='/lifesum-clone/signin' component={() => <SignIn/>}/>\n          <Route exact path='/meal/:id/search' component={() => <Search date={stateDate.date} results={stateResults.results} dispatchResults={dispatchResults}/>}/>\n          <Route exact path='/meal/:id/search/:id' component={() => <Food date={stateDate.date}/>}/>\n          <Route exact path='/datasheet' component={() => <DataSheet date={stateDate.date}/>}/>\n        </Switch>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}