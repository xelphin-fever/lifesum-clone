{"version":3,"sources":["components/ProgressCircle.js","firebase.js","components/DataBar.js","components/DateChanger.js","components/MealBar.js","pages/SignIn.js","functions/helperFunctions.js","functions/constants.js","pages/Home.js","components/DataList.js","stylesheets/styledComponents.js","components/MealFoodBar.js","pages/Meal.js","components/FoodBar.js","pages/Search.js","pages/Food.js","functions/reducers.js","App.js","reportWebVitals.js","index.js"],"names":["DataBar","props","fontSize2","fontSize","Math","round","Number","circleSize","fontSize3","className","CircularProgress","variant","value","progress","size","color","thickness","style","calories","message","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","firestore","auth","useState","goal","eaten","setEaten","burnt","setBurnt","sumCalories","setSumCalories","caloriesLeft","setCaloriesLeft","setProgress","progressColor","setProgressColor","calMessage","setCalMessage","useEffect","data","sumCal","sumBurnt","sum","left","calc","DateChanger","onClick","dispatchDate","type","date","MealBar","meal","setMeal","totalCal","setTotalCal","options","title","emoji","to","SignIn","onSignUp","setOnSignUp","placeholder","id","maxLength","autoComplete","username","document","querySelector","email","password","promise","createUserWithEmailAndPassword","then","result","changeSign","currentUser","user","updateProfile","displayName","catch","e","alert","signInWithEmailAndPassword","formatDate","dd","String","getDate","padStart","mm","getMonth","yyyy","getFullYear","capitalize","string","charAt","toUpperCase","slice","findNutrient","food","name","myNutrient","nutrition","nutrients","filter","nut","length","updateBasicInfo","amount","operator","newData","meals","updateNutrientInfo","nutrientName","percent","map","obj","undefined","percentOfDailyNeeds","nutritionFrame","dataFrame","sumFat","sumProtein","sumCarb","breakfast","foods","lunch","dinner","snacks","foodFrame","Home","Date","setDate","isSigned","setIsSigned","setData","abortController","AbortController","signal","aborted","console","log","abort","onAuthStateChanged","usersRef","collection","doc","uid","get","docSnapshot","exists","onSnapshot","set","signOut","ans","DataList","findPercent","types","fat","protein","carb","typeColor","typeName","backgroundColor","Dropdown","styled","div","DropdownElement","h3","MessageDiv","PrimaryButton","width","MealFoodBar","removeFood","updated","order","splice","forEach","typePair","nutrient","deleteFood","update","image","src","alt","quantity","unit","Meal","useRouteMatch","url","split","allData","setAllData","myDoc","error","updatedFullData","count","FoodBar","imgSrc","Search","search","setSearch","input","getElementById","pressedEnter","event","keyCode","preventDefault","addEventListener","removeEventListener","a","fetch","process","response","json","dispatchResults","payload","results","fetchResults","item","Food","link","foodId","setResult","setAmount","setUnit","macrosPer","setMacrosPer","myMacros","caloricBreakdown","percentProtein","percentFat","percentCarbs","min","possibleUnits","macro","push","addFood","dateReducer","state","action","iDate","dDate","Error","resultsReducer","App","useReducer","stateDate","stateResults","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.9e9753af.chunk.js","sourcesContent":["import React from 'react';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport '../stylesheets/ProgressCircle.css'\n\n\nconst DataBar = (props) => {\n\n  const fontSize2 = {\n    fontSize: `${Math.round(Number(props.circleSize)/5)}px`\n  }\n  const fontSize3 = {\n    fontSize: `${Math.round(Number(props.circleSize)/12)}px`\n  }\n\n  return (\n    <div  className=\"progresscircle\">\n        <CircularProgress variant=\"determinate\" value={props.progress} size={`${props.circleSize}px`} color=\"inherit\" thickness={1.2}/>\n          <div  className=\"progresscircle-text\">\n            <h2 style={fontSize2}>{props.calories}</h2>\n            <h3  style={fontSize3}>{props.message}</h3>\n        </div>\n    </div>\n  );\n}\n\nexport default DataBar;","import firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/firestore';\n\nvar firebaseConfig = {\n  apiKey: \"AIzaSyBuUbx8Hxva5oyPCSAAdGp9nBkzbaK1t6M\",\n  authDomain: \"lifesum-clone.firebaseapp.com\",\n  projectId: \"lifesum-clone\",\n  storageBucket: \"lifesum-clone.appspot.com\",\n  messagingSenderId: \"87225916127\",\n  appId: \"1:87225916127:web:2a81ab0a4faf08b270e76a\"\n};\n\nfirebase.initializeApp(firebaseConfig);\n\nexport const firestore = firebase.firestore();\nexport const auth = firebase.auth();\n\nexport default firebase;","import React, {useState, useEffect} from 'react';\n// import styled from 'styled-components'\nimport '../stylesheets/DataBar.css'\nimport ProgressCircle from './ProgressCircle'\nimport firebase from '../firebase';\n\nconst DataBar = (props) => {\n  // TODO: Listen for Firestore update on specific user at day, and update firestore\n\n  const [goal, setGoal] = useState(1250); // TODO: Create Firestore Users -> [uid] -> Config -> config : has goal\n  const [eaten, setEaten] = useState(0);\n  const [burnt, setBurnt] = useState(0);\n\n  const [sumCalories, setSumCalories] = useState(0);\n  const [caloriesLeft, setCaloriesLeft] = useState(0);\n  const [progress, setProgress] = useState(0);\n  const [progressColor, setProgressColor] = useState({color: \"white\"});\n  const [calMessage, setCalMessage] = useState(\"Calories Left\")\n  // TODO: useEffect when props changes and setState to what's needed\n\n\n  useEffect(() => { // FIX: This only changes on Date change, not on update!!!!\n    // Maybe make it listen to the change in the document directly instead of through props stateData\n    // Or, with date:reload reducer can be fired on updates so as to update this\n    setEaten(props.data.sumCal);\n    setBurnt(props.data.sumBurnt);\n  }, [props.data]);\n\n\n\n  useEffect(()=> {\n    let sum = eaten -burnt;\n    sum = sum<0 ? 0 : sum;\n    setSumCalories(sum);\n    }, [eaten, burnt]);\n\n  useEffect(() => {\n    let left = goal - sumCalories;\n    let calc = Math.round((sumCalories/goal)*100);\n    if (calc>100){\n      calc = calc % 100;\n      left = sumCalories - goal;\n      setCalMessage(\"Calories Over\");\n      setProgressColor({color: \"rgb(219, 138, 105)\"})\n    } else {\n      setProgressColor({color: \"white\"})\n    }\n    if (calc>200){\n      calc= 100;\n    }\n    setCaloriesLeft(left);\n    setProgress(calc);\n  }, [sumCalories, goal])\n\n  return (\n    <div  className=\"databar\">\n      <div className=\"databar-top\">\n        <div className=\"databar-data\">\n          <h2>{eaten}</h2>\n          <h3>Calories Eaten</h3>\n        </div>\n        <div className=\"databar-calories\" style={progressColor}>\n          <ProgressCircle  progress={progress} circleSize=\"480\" calories={caloriesLeft} message={calMessage}/>\n        </div>\n        <div className=\"databar-data\">\n          <h2>{burnt}</h2>\n          <h3>Calories Burnt</h3>\n        </div>\n      </div>\n      <div className=\"databar-bottom\">\n        <div className=\"databar-data\">\n          <h2>Carbs</h2>\n          <h3>###</h3>\n        </div>\n        <div className=\"databar-data\">\n          <h2>Proetein</h2>\n          <h3>###</h3>\n        </div>\n        <div className=\"databar-data\">\n          <h2>Fat</h2>\n          <h3>###</h3>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default DataBar;","import React from 'react';\n// import styled from 'styled-components'\n\nconst DateChanger = (props) => {\n\n  return (\n    <div  className=\"datechanger\">\n      <button onClick={() => props.dispatchDate({type: 'decrement'})}>⬅</button>\n      <h1>{props.date}</h1>\n      <button  onClick={() => props.dispatchDate({type: 'increment'})}>➡</button>\n    </div>\n  );\n}\n\nexport default DateChanger;","import React, {useState, useEffect} from 'react';\nimport '../stylesheets/MealBar.css';\nimport {Link} from \"react-router-dom\";\n\nconst MealBar = (props) => {\n\n  const [meal, setMeal] = useState(props.meal);\n  const [totalCal, setTotalCal] = useState(props.totalCal)\n\n  const options = {\n    \"breakfast\" : {\n      title: \"Breakfast\",\n      emoji: \"🍳\",\n    },\n    \"lunch\" : {\n      title: \"Lunch\",\n      emoji: \"🥗\",\n    },\n    \"dinner\" : {\n      title: \"Dinner\",\n      emoji: \"🍲\",\n    },\n    \"snacks\" : {\n      title: \"Snacks\",\n      emoji: \"🍐\",\n    },\n  }\n\n  useEffect(()=> {\n    setMeal(props.meal);\n    setTotalCal(props.totalCal);\n  }, [props])\n\n\n  return (\n    <div  className=\"mealbar\">\n      \n        <div className=\"mealbar-top\">\n          <h2 className=\"mealbar-emoji\">{options[meal].emoji}</h2>\n          <Link to={`/meal/${meal}`}>\n          <div className=\"mealbar-text\">\n            <h2>{options[meal].title}</h2>\n            <h3>Here I'll write down a list of foods</h3>\n          </div>\n          </Link>\n          <Link to={`/meal/${meal}/search`}>\n            <button>➕</button>\n          </Link>\n        </div>\n        <div className=\"mealbar-bottom\">\n          <h2>{totalCal} Calories</h2>\n        </div>\n    </div>\n  );\n}\n\nexport default MealBar;","import React, {useState} from 'react';\nimport firebase from '../firebase';\nimport '../stylesheets/SignIn.css'\n\nconst SignIn = (props) => {\n\n  // TODO: Listen to firestore change, update props\n  const [onSignUp, setOnSignUp] =  useState(true);\n\n  const signUp = () => {\n    const username = document.querySelector(\"#signUp-username\");\n    const email = document.querySelector(\"#signUp-email\");\n    const password = document.querySelector(\"#signUp-password\");\n    // Add User\n    let auth = firebase.auth();\n    const promise = auth.createUserWithEmailAndPassword(email.value, password.value);\n    promise.then(function(result) {\n      props.changeSign(!!firebase.auth().currentUser);\n      return result.user.updateProfile({\n        displayName: username.value\n      })\n    })\n    promise.catch((e) => (alert(e)));\n  }\n\n  const logIn = () => {\n    const email = document.querySelector('#logIn-email');\n    const password = document.querySelector('#logIn-password');\n    // CHECK LOGIN\n    let auth = firebase.auth();\n    const promise = auth.signInWithEmailAndPassword(email.value, password.value);\n    promise.then(function(result) {\n      props.changeSign(!!firebase.auth().currentUser);\n    })\n    promise.catch((e) => (alert(e)));\n\n  }\n\n\n  if (onSignUp === true) {\n    return (\n      <div className=\"page-signin\">\n        <h2>Lifesum Clone</h2>\n        <h3>Please Don't Use Real Private Information</h3>\n        <div  className=\"signin\">\n          <h1>Sign Up</h1>\n          <input type=\"text\" placeholder=\"username\" id=\"signUp-username\" maxLength=\"12\" autoComplete=\"off\"/>\n          <input type=\"email\" placeholder=\"fake email\" id=\"signUp-email\" maxLength=\"20\" autoComplete=\"off\"/>\n          <input type=\"password\" placeholder=\"password\" id=\"signUp-password\" maxLength=\"15\" autoComplete=\"off\"/>\n          <button onClick={signUp} >Submit</button>\n          <h4>Already a member?</h4>\n          <button onClick={() => {setOnSignUp(false)}} id=\"signin-btnOther\">Log In</button>\n        </div>\n      </div>\n    );\n  } else {\n    return (\n      <div  className=\"page-signin\">\n        <h2>Lifesum Clone</h2>\n        <div  className=\"signin\">\n          <h1>Log In</h1>\n          <input type=\"email\" placeholder=\"email\" id=\"logIn-email\" autoComplete=\"off\"/>\n          <input type=\"password\" placeholder=\"password\" id=\"logIn-password\" autoComplete=\"off\"/>\n          <button onClick={logIn}>Log In</button>\n          <h4>Not a member?</h4>\n          <button onClick={() => {setOnSignUp(true)}} id=\"signin-btnOther\">Sign Up</button>\n        </div>\n      </div>\n    );\n  }\n\n\n}\n\nexport default SignIn;","\n\nconst formatDate = (date) => {\n  let dd = String(date.getDate()).padStart(2, '0');\n  let mm = String(date.getMonth() + 1).padStart(2, '0'); //January is 0!\n  let yyyy = date.getFullYear();\n  date = dd + '-' + mm + '-' + yyyy;\n  return date;\n}\n\nconst capitalize = (string) => {\n  if (string !== \"\" && (typeof string === \"string\")){\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  }\n  return undefined;\n}\n\nconst findNutrient = (food, name) => {\n  const arrAll = food.nutrition.nutrients;\n  const myNutrient = arrAll.filter((nut) => nut.name === name);\n  if (myNutrient.length>0){\n    return myNutrient[0]; \n  }\n  return {\n    \"name\": \"Not Found\",\n    \"amount\": 0,\n    \"unit\": \"cal\",\n    \"percentOfDailyNeeds\": 0\n  }; \n\n}\n\n// TODO: Make function that updates the firestore data\n//    For Example, if added food in one, updates all the macros and nutrients and stuff to match\n//    Updates firestore\n//    Does 'update' to date\n\nconst updateBasicInfo = (data, meal, type, amount, operator) => {\n  // type: \"sumCal\" || \"sumFat\" || ...\n  // amount: [number]\n  let newData = {...data};\n  newData.meals[meal][type] = Math.round(operator===\"add\" ? newData.meals[meal][type] + amount : newData.meals[meal][type] - amount);\n  newData[type] = Math.round(operator===\"add\" ? newData[type] + amount : newData[type] - amount);\n  return newData;\n}\n\nconst updateNutrientInfo = (data, meal, nutrientName, amount, percent, operator) => {\n  // nutrient : \"Calcium\" || \"Zinc\" || ...\n  let newData = {...data};\n  newData.meals[meal].nutrients = newData.meals[meal].nutrients.map((obj) => {\n    if (obj.name === nutrientName) {\n      obj.amount = Math.round(operator===\"add\"? obj.amount + amount : obj.amount - amount);\n      if (obj.percentOfDailyNeeds !== undefined){\n        obj.percentOfDailyNeeds = Math.round(operator===\"add\"? obj.percentOfDailyNeeds + percent : obj.percentOfDailyNeeds - percent);\n      }\n    }\n    return obj;\n  });\n  newData.nutrients = newData.nutrients.map(obj => {\n    if (obj.name === nutrientName) {\n      obj.amount = Math.round(operator===\"add\" ? obj.amount + amount : obj.amount - amount);\n      if (obj.percentOfDailyNeeds!== undefined){\n        obj.percentOfDailyNeeds = Math.round(operator===\"add\" ? obj.percentOfDailyNeeds + percent : obj.percentOfDailyNeeds + percent);\n      }\n    }\n    return obj;\n  });\n  return newData;\n}\n\n\nconst addFood = (data, meal, food) => {\n  // data: JSON from Firestore -> Object as seen in ./constants 'dataFrame'\n  // meal: \"breakfast\" || \"lunch\" || \"dinner\" || \"snacks\"\n  // food: JSON from API -> Object as seen in ./constants 'dataFrame'\n  let newData = {...data};\n  newData.meals[meal].foods.push(food);\n  const basicTypes = [[\"sumCal\",\"Calories\"], [\"sumFat\",\"Fat\"], [\"sumProtein\",\"Protein\"], [\"sumCarb\",\"Carbohydrates\"]];\n  basicTypes.forEach(typePair => {\n    let myNutrient = food.nutrition.nutrients.filter((nutrient) => nutrient.name === typePair[1])[0];\n    newData = updateBasicInfo(newData, meal, typePair[0], myNutrient.amount, \"add\");\n  });\n  \n  food.nutrition.nutrients.forEach((nutrient) => {\n    newData = updateNutrientInfo(newData, meal, nutrient.name, nutrient.amount, nutrient.percentOfDailyNeeds, \"add\");\n  })\n  return newData;\n}\n\nconst deleteFood = (data, meal, food, order) => {\n  let newData = {...data};\n  newData.meals[meal].foods.splice(order, 1);\n  const basicTypes = [[\"sumCal\",\"Calories\"], [\"sumFat\",\"Fat\"], [\"sumProtein\",\"Protein\"], [\"sumCarb\",\"Carbohydrates\"]];\n  basicTypes.forEach(typePair => {\n    let myNutrient = food.nutrition.nutrients.filter((nutrient) => nutrient.name === typePair[1])[0];\n    newData = updateBasicInfo(newData, meal, typePair[0], myNutrient.amount, \"subtract\");\n  });\n  food.nutrition.nutrients.forEach((nutrient) => {\n    newData = updateNutrientInfo(newData, meal, nutrient.name, nutrient.amount, nutrient.percentOfDailyNeeds, \"subtract\");\n  })\n  return newData;\n}\n\nconst nothingDone = () => {\n  return 3;\n}\n\nexport {formatDate, capitalize, findNutrient, addFood, deleteFood, nothingDone}","const nutritionFrame = [\n    {\n        \"name\": \"Calories\",\n        \"amount\": 0,\n        \"unit\": \"cal\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Fat\",\n        \"amount\": 0,\n        \"unit\": \"g\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Saturated Fat\",\n        \"amount\": 0,\n        \"unit\": \"g\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Carbohydrates\",\n        \"amount\": 0,\n        \"unit\": \"g\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Net Carbohydrates\",\n        \"amount\": 0,\n        \"unit\": \"g\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Sugar\",\n        \"amount\": 0,\n        \"unit\": \"g\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Cholesterol\",\n        \"amount\": 0,\n        \"unit\": \"mg\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Sodium\",\n        \"amount\": 0,\n        \"unit\": \"mg\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Protein\",\n        \"amount\": 0,\n        \"unit\": \"g\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Vitamin C\",\n        \"amount\": 0,\n        \"unit\": \"mg\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Manganese\",\n        \"amount\": 0,\n        \"unit\": \"mg\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Fiber\",\n        \"amount\": 0,\n        \"unit\": \"g\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Vitamin B6\",\n        \"amount\": 0,\n        \"unit\": \"mg\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Copper\",\n        \"amount\": 0,\n        \"unit\": \"mg\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Vitamin B1\",\n        \"amount\": 0,\n        \"unit\": \"mg\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Folate\",\n        \"amount\": 0,\n        \"unit\": \"µg\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Potassium\",\n        \"amount\": 0,\n        \"unit\": \"mg\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Magnesium\",\n        \"amount\": 0,\n        \"unit\": \"mg\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Vitamin B3\",\n        \"amount\": 0,\n        \"unit\": \"mg\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Vitamin B5\",\n        \"amount\": 0,\n        \"unit\": \"mg\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Vitamin B2\",\n        \"amount\": 0,\n        \"unit\": \"mg\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Iron\",\n        \"amount\": 0,\n        \"unit\": \"mg\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Calcium\",\n        \"amount\": 0,\n        \"unit\": \"mg\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Vitamin A\",\n        \"amount\": 0,\n        \"unit\": \"IU\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Zinc\",\n        \"amount\": 0,\n        \"unit\": \"mg\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Phosphorus\",\n        \"amount\": 0,\n        \"unit\": \"mg\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Vitamin K\",\n        \"amount\": 0,\n        \"unit\": \"µg\",\n        \"percentOfDailyNeeds\": 0\n    },\n    {\n        \"name\": \"Selenium\",\n        \"amount\": 0,\n        \"unit\": \"µg\",\n        \"percentOfDailyNeeds\":0\n    },\n    {\n        \"name\": \"Vitamin E\",\n        \"amount\": 0,\n        \"unit\": \"mg\",\n        \"percentOfDailyNeeds\": 0\n    }\n]\n\n\n\nconst dataFrame = {\n  sumCal : 0,\n  sumFat : 0,\n  sumProtein : 0,\n  sumCarb : 0,\n  sumBurnt : 0,\n  meals: {\n    breakfast: {\n      sumCal : 0,\n      sumFat : 0,\n      sumProtein : 0,\n      sumCarb : 0,\n      foods: [],\n      nutrients: nutritionFrame,\n    },\n    lunch: {\n      sumCal : 0,\n      sumFat : 0,\n      sumProtein : 0,\n      sumCarb : 0,\n      foods: [],\n      nutrients: nutritionFrame,\n    },\n    dinner: {\n      sumCal : 0,\n      sumFat : 0,\n      sumProtein : 0,\n      sumCarb : 0,\n      foods: [],\n      nutrients: nutritionFrame,\n    },\n    snacks: {\n      sumCal : 0,\n      sumFat : 0,\n      sumProtein : 0,\n      sumCarb : 0,\n      foods: [],\n      nutrients: nutritionFrame,\n    },\n  },\n  nutrients: nutritionFrame,\n};\n\n\nconst foodFrame = {\n  \"id\": 1111,\n  \"name\": \"name\",\n  \"nameClean\": \"name clean\",\n  \"amount\": 1,\n  \"unit\": \"g\",\n  \"possibleUnits\": [\n    \"piece\",\n    \"slice\",\n    \"fruit\",\n    \"g\",\n    \"oz\",\n    \"cup\",\n    \"serving\"\n  ],\n  \"image\": \"imgFile\",\n  \"meta\": [],\n  \"nutrition\": {\n      \"nutrients\": [\n        {\n            \"name\": \"Calories\",\n            \"amount\": 170,\n            \"unit\": \"cal\",\n            \"percentOfDailyNeeds\": 10\n        },\n        {\n            \"name\": \"Fat\",\n            \"amount\": 13,\n            \"unit\": \"g\",\n            \"percentOfDailyNeeds\": 3\n        },\n        {\n            \"name\": \"Saturated Fat\",\n            \"amount\": 11,\n            \"unit\": \"g\",\n            \"percentOfDailyNeeds\": 50\n        },\n        {\n            \"name\": \"Carbohydrates\",\n            \"amount\": 56,\n            \"unit\": \"g\",\n            \"percentOfDailyNeeds\": 8\n        },\n        {\n            \"name\": \"Net Carbohydrates\",\n            \"amount\": 0,\n            \"unit\": \"g\",\n            \"percentOfDailyNeeds\": 0\n        },\n        {\n            \"name\": \"Sugar\",\n            \"amount\": 32,\n            \"unit\": \"g\",\n            \"percentOfDailyNeeds\": 60\n        },\n        {\n            \"name\": \"Cholesterol\",\n            \"amount\": 0,\n            \"unit\": \"mg\",\n            \"percentOfDailyNeeds\": 0\n        },\n        {\n            \"name\": \"Sodium\",\n            \"amount\": 0,\n            \"unit\": \"mg\",\n            \"percentOfDailyNeeds\": 0\n        },\n        {\n            \"name\": \"Protein\",\n            \"amount\": 23,\n            \"unit\": \"g\",\n            \"percentOfDailyNeeds\": 30\n        },\n        {\n            \"name\": \"Vitamin C\",\n            \"amount\": 0,\n            \"unit\": \"mg\",\n            \"percentOfDailyNeeds\": 0\n        },\n        {\n            \"name\": \"Manganese\",\n            \"amount\": 0,\n            \"unit\": \"mg\",\n            \"percentOfDailyNeeds\": 0\n        },\n        {\n            \"name\": \"Fiber\",\n            \"amount\": 0,\n            \"unit\": \"g\",\n            \"percentOfDailyNeeds\": 0\n        },\n        {\n            \"name\": \"Vitamin B6\",\n            \"amount\": 0,\n            \"unit\": \"mg\",\n            \"percentOfDailyNeeds\": 0\n        },\n        {\n            \"name\": \"Copper\",\n            \"amount\": 0,\n            \"unit\": \"mg\",\n            \"percentOfDailyNeeds\": 0\n        },\n        {\n            \"name\": \"Vitamin B1\",\n            \"amount\": 0,\n            \"unit\": \"mg\",\n            \"percentOfDailyNeeds\": 0\n        },\n        {\n            \"name\": \"Folate\",\n            \"amount\": 0,\n            \"unit\": \"µg\",\n            \"percentOfDailyNeeds\": 0\n        },\n        {\n            \"name\": \"Potassium\",\n            \"amount\": 0,\n            \"unit\": \"mg\",\n            \"percentOfDailyNeeds\": 0\n        },\n        {\n            \"name\": \"Magnesium\",\n            \"amount\": 0,\n            \"unit\": \"mg\",\n            \"percentOfDailyNeeds\": 0\n        },\n        {\n            \"name\": \"Vitamin B3\",\n            \"amount\": 0,\n            \"unit\": \"mg\",\n            \"percentOfDailyNeeds\": 0\n        },\n        {\n            \"name\": \"Vitamin B5\",\n            \"amount\": 0,\n            \"unit\": \"mg\",\n            \"percentOfDailyNeeds\": 0\n        },\n        {\n            \"name\": \"Vitamin B2\",\n            \"amount\": 0,\n            \"unit\": \"mg\",\n            \"percentOfDailyNeeds\": 0\n        },\n        {\n            \"name\": \"Iron\",\n            \"amount\": 0,\n            \"unit\": \"mg\",\n            \"percentOfDailyNeeds\": 0\n        },\n        {\n            \"name\": \"Calcium\",\n            \"amount\": 0,\n            \"unit\": \"mg\",\n            \"percentOfDailyNeeds\": 0\n        },\n        {\n            \"name\": \"Vitamin A\",\n            \"amount\": 0,\n            \"unit\": \"IU\",\n            \"percentOfDailyNeeds\": 0\n        },\n        {\n            \"name\": \"Zinc\",\n            \"amount\": 0,\n            \"unit\": \"mg\",\n            \"percentOfDailyNeeds\": 0\n        },\n        {\n            \"name\": \"Phosphorus\",\n            \"amount\": 0,\n            \"unit\": \"mg\",\n            \"percentOfDailyNeeds\": 0\n        },\n        {\n            \"name\": \"Vitamin K\",\n            \"amount\": 0,\n            \"unit\": \"µg\",\n            \"percentOfDailyNeeds\": 0\n        },\n        {\n            \"name\": \"Selenium\",\n            \"amount\": 0,\n            \"unit\": \"µg\",\n            \"percentOfDailyNeeds\":0\n        },\n        {\n            \"name\": \"Vitamin E\",\n            \"amount\": 0,\n            \"unit\": \"mg\",\n            \"percentOfDailyNeeds\": 0\n        }\n    ],\n      \"caloricBreakdown\": {\n          \"percentProtein\": 30,\n          \"percentFat\": 20,\n          \"percentCarbs\": 50\n      },\n      \"weightPerServing\": {\n          \"amount\": 0,\n          \"unit\": \"g\"\n      }\n  }\n}\n\n\n\n// TODO: make constant for user config\n\nexport {dataFrame, foodFrame};","import React, {useState, useEffect} from 'react';\nimport DataBar from '../components/DataBar';\nimport DateChanger from '../components/DateChanger';\nimport MealBar from '../components/MealBar';\nimport SignIn from './SignIn'\nimport '../stylesheets/Home.css';\nimport firebase from '../firebase';\nimport {formatDate} from '../functions/helperFunctions';\nimport {dataFrame} from '../functions/constants';\n\nconst Home = (props) => {\n  // TODO: Listen to firestore change, update props\n  // VARIABLES\n  const meals = [\"breakfast\", \"lunch\", \"dinner\", \"snacks\"];\n  const [date, setDate] = useState(formatDate(new Date())); // xx-xx-xx\n  const [isSigned, setIsSigned] = useState(!!firebase.auth().currentUser);\n  const [data, setData] = useState(dataFrame); // FIX: also update on any updates to Doc\n\n  useEffect(() => {\n    let abortController = new AbortController();\n    let aborted = abortController.signal.aborted;\n    if (aborted === false){\n      console.log('the date recorded now is: ', formatDate(props.date));\n      setDate(formatDate(props.date));\n    }\n    return () => {\n      abortController.abort();\n    };\n  }, [props.date])\n\n\n\n  // SET SIGNED STATUS\n  firebase.auth().onAuthStateChanged(() => {\n    console.log('(auth state change) - Signed in ', !!firebase.auth().currentUser);\n    setIsSigned(!!firebase.auth().currentUser);\n  });\n  const setSigned = (ans) => {\n    setIsSigned(ans);\n  }\n\n  // SET DATABASE\n  useEffect (() => {\n    let abortController = new AbortController();\n    let aborted = abortController.signal.aborted;\n    if (isSigned===true ){\n      console.log('(useEffect() of Home) - Am signed in');\n      let firestore = firebase.firestore();\n      const usersRef = firestore.collection('users').doc(firebase.auth().currentUser.uid).collection('days').doc(date)\n      usersRef.get()\n        .then((docSnapshot) => {\n            if (docSnapshot.exists) {\n              usersRef.onSnapshot((doc) => {\n                console.log('the doc of this date exists!', doc);\n                aborted = abortController.signal.aborted;\n                if (aborted===false){\n                  setData(doc.data());\n                }\n              });\n            } else {\n              console.log('the doc was not found, need to create it');\n              usersRef.set(dataFrame); // Created Doc\n              aborted = abortController.signal.aborted;\n              if (aborted===false){\n                setData(dataFrame);\n              }\n            }\n      });\n    }\n    return () => {\n      abortController.abort();\n    };\n  }, [isSigned, date]);\n\n\n\n  if (isSigned){\n    return (\n      <div  className=\"page-home\">\n        <div className=\"page-home-top\">\n          <button onClick={() => {firebase.auth().signOut()}}>Sign Out</button>\n          <DataBar date={date} data={data}/>\n        </div>\n        \n        <DateChanger date={date} dispatchDate={props.dispatchDate}/>\n        <div className=\"page-home-mealbars\">\n          {meals.map((meal) => <MealBar meal={meal} totalCal={data.meals[meal].sumCal} key={meal}/>)}\n        </div>\n      </div>\n    );\n  } else {\n    return (\n      <SignIn changeSign={setSigned}/>\n    )\n  }\n}\n\nexport default Home;","import React from 'react';\nimport '../stylesheets/DataList.css'\nimport { PieChart } from 'react-minimal-pie-chart';\n\nconst DataList = (props) => {\n\n  const findPercent = (type) => {\n    const types = {\n      fat: Number(props.data.sumFat),\n      protein: Number(props.data.sumProtein),\n      carb: Number(props.data.sumCarb),\n    }\n    // CHANGED BELOW TO TAKE INTO ACCOUNT DIVISION BY 0\n    if (Number(props.data.sumFat)+Number(props.data.sumProtein)+Number(props.data.sumCarb)!==0){\n      return Math.round((types[type]/(Number(props.data.sumFat)+Number(props.data.sumProtein)+Number(props.data.sumCarb)))*100);\n    }\n    return 0;\n    \n  }\n\n  const typeColor = {\n    fat: \"rgb(160, 192, 160)\",\n    protein: \"rgb(128, 155, 135)\",\n    carb: \"rgb(106, 128, 115)\",\n  }\n\n  const typeName = {\n    fat: \"Fat\",\n    carb: \"Carbs\",\n    protein: \"Protein\",\n  }\n\n  const typeList = [\"fat\", \"protein\", \"carb\"];\n\n  return (\n    <div  className=\"datalist\">\n      <div className=\"datalist-portion\">\n        <h1>{props.data.sumCal} Calories</h1>\n        <hr/>\n        <div className=\"datalist-info\">\n          <h2>Recommended</h2>\n          <h2>{`${props.goal -140}-${props.goal}`} cals</h2>\n        </div>\n        <div className=\"datalist-info\">\n          <h2>Calories</h2>\n          <h2>{props.data.sumCal} cals</h2>\n        </div>\n        <hr/>\n        <div className=\"datalist-info-pie\">\n          <PieChart className=\"datalist-pie\"\n            data={[\n              { title: 'Fat', value: Number(props.data.sumFat), color: typeColor.fat },\n              { title: 'Protein', value: Number(props.data.sumProtein), color: typeColor.protein },\n              { title: 'Carb', value: Number(props.data.sumCarb), color: typeColor.carb },\n            ]}\n          />;\n          <div className=\"datalist-pie-info\">\n            {\n              typeList.map((type) => {\n                return <div className=\"datalist-info\" key={type}>\n                  <div className=\"datalist-pie-label\">\n                    <div className=\"datalist-pie-color\" style={{backgroundColor: typeColor[type]}}></div>\n                    <h2>{typeName[type]}</h2>\n                  </div>\n                  <h2>{findPercent(type)}%</h2>\n                </div>\n              })\n            }\n          </div>\n        </div>\n      </div>\n\n      <div className=\"datalist-portion\">\n        <div className=\"datalist-info\">\n          <h2>Calories</h2>\n          <h2>{props.data.sumCal} cals</h2>\n        </div>\n        <div className=\"datalist-info\">\n          <h2>Protein</h2>\n          <h2>{props.data.sumProtein}g</h2>\n        </div>\n        <div className=\"datalist-info\">\n          <h2>Carbs</h2>\n          <h2>{props.data.sumCarb}g</h2>\n        </div>\n        <div className=\"datalist-info\">\n          <h2>Fat</h2>\n          <h2>{props.data.sumFat}g</h2>\n        </div>\n      </div>\n\n    </div>\n  );\n}\n\nexport default DataList;","import styled from 'styled-components';\n\n// From w3schools\nconst Dropdown = styled.div`\n  position: relative;\n  display: inline-block;\n\n  font-size: ${props => props.fontSize || \"15px\"};\n\n  &:hover{\n    .dropdown-content {\n      display: block;\n    }\n  }\n\n  .dropdown-content {\n    display: none;\n    position: absolute;\n    background-color: #f9f9f9;\n    min-width: 160px;\n    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);\n    z-index: 1;\n  }\n\n  .dropdown-btn {\n    color: black;\n    padding: 16px;\n    font-size: 16px;\n    border: none;\n    border-bottom: 1px solid black;\n    cursor: pointer;\n    font-size: inherit;\n  }\n`;\n\nconst DropdownElement = styled.h3` \n  color: black;\n  font-size: ${props => props.fontSize || \"15px\"};\n  padding: 12px 16px;\n  text-decoration: none;\n  display: block;\n  &:hover {\n    background-color: #f1f1f1;\n  }\n`;\n\n//\n\nconst MessageDiv = styled.div`\n\n  position: relative;\n  width: fit-content;\n\n  &:hover {\n    .component-message {\n      display: block;\n    }\n  }\n  .component-message {\n    display :none;\n    position: absolute;\n    top: -70px;\n    transition: 0.3s all linear;\n    background-color: #f9f9f9;\n    padding: 10px 20px;\n    border-radius: 30px;\n    width: fit-content;\n    font-size: 15px;\n  }\n`;\n\nconst PrimaryButton = styled.div`\n  background-color: var(--primary);\n  border-radius: 50px;\n  width: ${props => props.width || \"100%\"};\n  color: white;\n  font-weight: 500;\n  font-size: 40px;\n  margin: 50px auto;\n  padding: 30px 0;\n  transition: 0.1s linear all;\n  text-align: center;\n  &: hover{\n    background-color: var(--primary-dark);\n  }\n`;\n\n\n\nexport {Dropdown, DropdownElement, MessageDiv, PrimaryButton};","import React from 'react';\nimport '../stylesheets/FoodBar.css';\nimport {capitalize} from \"../functions/helperFunctions\";\nimport {findNutrient, deleteFood} from '../functions/helperFunctions';\n\nconst MealFoodBar = (props) => {\n\n  const baseSrc = \"https://spoonacular.com/cdn/ingredients_100x100/\";\n\n  const removeFood = () => {\n    console.log('original data: ', props.data);\n    const updated = deleteFood(props.data, props.meal, props.food, props.order);\n    console.log('updated data: ', updated);\n    props.update(updated);\n  }\n\n  return (\n    <div  className=\"foodbar\">\n      <div className=\"foodbar-left\">\n        {\n          props.food.image ? <img src={baseSrc+props.food.image} alt={props.food.name} /> : null\n        }\n        <div className=\"foodbar-text\">\n          <h2>{capitalize(props.food.name)}</h2>\n          <h3>{findNutrient(props.food, \"Calories\").amount}cal  ⚫ {props.food.quantity}{props.food.unit}</h3>\n        </div>\n      </div>\n      <button onClick={() => removeFood()}>-</button>\n    </div>\n  );\n}\n\nexport default MealFoodBar;\n\n// <h3>{findNutrient(props.food, \"Calories\")}cal  ⚫  {props.food.quantity}{props.food.unit}</h3> ","import React, {useState, useEffect} from 'react';\nimport '../stylesheets/Meal.css'\nimport { useRouteMatch, Link } from \"react-router-dom\";\nimport {formatDate} from '../functions/helperFunctions';\nimport ProgressCircle from '../components/ProgressCircle';\nimport firebase from '../firebase';\nimport {dataFrame} from '../functions/constants';\nimport DataList from '../components/DataList.js';\nimport {PrimaryButton} from '../stylesheets/styledComponents';\nimport MealFoodBar from '../components/MealFoodBar';\n\nconst Meal = (props) => {\n  let meal = useRouteMatch('/meal/:id').url.split('/');\n  meal=meal[meal.length-1];\n  // TODO: Listen to firestore change, update props\n  const [goal, setGoal] = useState(400); // TODO: make config collection in firestore for each user and there have the goals\n  const [data, setData] = useState(dataFrame.meals[meal]);\n  const [progressColor, setProgressColor] = useState({color: \"white\"});\n  const [progress, setProgress] = useState(0);\n  const [isSigned, setIsSigned] = useState(!!firebase.auth().currentUser);\n  const [allData, setAllData] = useState(dataFrame);\n\n  useEffect(() => {\n    // NOTE: instead of useEffect maybe listen for firestore at doc changes\n    let abortController = new AbortController();\n    let aborted = abortController.signal.aborted;\n    let firestore = firebase.firestore();\n    if (firebase.auth().currentUser && aborted!==true){\n      firestore.collection(\"users\").doc(firebase.auth().currentUser.uid).collection('days').doc(formatDate(props.date)).get().then((myDoc) => {\n        console.log('MyDoc in Meal: ', myDoc)\n        aborted = abortController.signal.aborted;\n        if (aborted!==true){\n          setData(myDoc.data().meals[meal]);\n          setAllData(myDoc.data());\n        }\n      }).catch(function (error) {\n        console.error(\"Error in Meal: \", error);\n      })\n    } else {\n      console.log('not logged in cannot update meal');\n    }\n    return () => {\n      abortController.abort();\n    }\n  }, [props.date, meal, isSigned]);\n\n  firebase.auth().onAuthStateChanged(() => {\n    setIsSigned(!!firebase.auth().currentUser);\n  });\n  // TODO: make a 'doc change' lister as well?\n\n\n  useEffect(() => {\n    let calc = Math.round((data.sumCal/goal)*100);\n    if (calc>100){\n      calc = calc % 100;\n      setProgressColor({color: \"rgb(226, 190, 113)\"})\n    } else {\n      setProgressColor({color: \"white\"})\n    }\n    if (calc>200){\n      calc= 100;\n      setProgressColor({color: \"rgb(219, 138, 105)\"})\n    }\n    setProgress(calc);\n  }, [data, goal])\n\n\n  const updatedFullData = (updatedFullData) => {\n    console.log('updated: ', updatedFullData);\n    var db = firebase.firestore();\n    db.collection('users').doc(firebase.auth().currentUser.uid).collection('days').doc(formatDate(props.date)).update(updatedFullData);\n    // dispatch 'date' update?\n    props.dispatchDate({type: 'reload'});\n  }\n\n\n  return (\n    <div  className=\"page-meal\">\n      <div className=\"page-meal-top\">\n        <div className=\"page-meal-progress\" style={progressColor}>\n          <ProgressCircle  progress={progress} circleSize=\"400\" calories={data.sumCal} message={\"calories eaten\"}/>\n        </div>\n        <h2>{meal}</h2>\n        <h3>{formatDate(props.date)}</h3>\n      </div>\n      <Link to={`${meal}/search`} className=\"page-meal-search-link\">\n        <PrimaryButton width=\"60%\">Add Food</PrimaryButton>\n      </Link>\n      <div className=\"page-meal-foodlist\">\n        {\n          data.foods.map((food, count) => {\n            return <MealFoodBar food={food} key={count} order={count} data={allData} meal={meal} update={updatedFullData} />\n          })\n        }\n      </div>\n      <div className=\"page-meal-datalist\">\n        <DataList data={data} goal={goal}/>\n      </div>\n\n      <div className=\"page-meal-back-div\">\n        <Link to=\"/lifesum-clone\">\n          <h2>⬅</h2>\n        </Link>\n      </div>\n    </div>\n  );\n}\n\nexport default Meal;\n","import React from 'react';\nimport '../stylesheets/FoodBar.css';\nimport {capitalize} from \"../functions/helperFunctions\";\nimport {Link} from \"react-router-dom\";\n\nconst FoodBar = (props) => {\n\n  const getNumId = (id) => {\n    const arr = id.split('-');\n    return arr[1];\n  }\n\n  return (\n    <div  className=\"foodbar\">\n      <Link to={`/meal/${props.meal}/search/${getNumId(props.id)}`}>\n      <div className=\"foodbar-left\">\n        {\n          props.imgSrc ? <img src={props.imgSrc} alt={props.title} /> : null\n        }\n        <div className=\"foodbar-text\">\n          <h2>{capitalize(props.title)}</h2>\n        </div>\n      </div>\n      </Link>\n    </div>\n  );\n}\n\nexport default FoodBar;","import React, {useState, useEffect} from 'react';\nimport '../stylesheets/Search.css';\nimport {Link, useRouteMatch} from \"react-router-dom\";\nimport {capitalize} from \"../functions/helperFunctions\";\nimport FoodBar from '../components/FoodBar'\n\nconst Search = (props) => {\n  let meal = useRouteMatch('/meal/:id/search').url.split('/');\n  meal=meal[meal.length-2];\n  // console.log('date: ', props.date);\n  const [search, setSearch] = useState('');\n  const baseSrc = \"https://spoonacular.com/cdn/ingredients_100x100/\";\n\n  // LISTEN FOR 'ENTER' EVENT AND UPDATE SEARCH INPUT\n  useEffect(() => {\n    let input = document.getElementById(\"page-searchbar\");\n    const pressedEnter = (event) => {\n      if (event.keyCode === 13) {\n        event.preventDefault();\n        console.log('clicked on enter from input, value:', input.value);\n        setSearch(input.value);\n      }\n    }\n    input.addEventListener(\"keyup\", pressedEnter);\n    return () => {\n      console.log('Search Enter: removing event listener...');\n      return input.removeEventListener(\"keyup\", pressedEnter);\n    };\n  }, []);\n\n\n  // COLLECT RESULTS FROM API\n  useEffect(() => {\n    let abortController = new AbortController();\n    let aborted = abortController.signal.aborted;\n    if (search!==''){\n      console.log('Going to fetch API info for: ',search);\n      async function fetchResults() {\n        let response = await fetch(`https://api.spoonacular.com/food/ingredients/search?apiKey=${process.env.REACT_APP_SPOONACULAR_API_KEY}&query=${search}&number=25`);\n        let data = await response.json();\n        aborted = abortController.signal.aborted;\n        console.log(\"Search abort signal is: \", aborted);\n        if (aborted === false) {\n          console.log('Results: ', data);\n          props.dispatchResults({type: 'update', payload: data.results});\n        }\n      }\n      fetchResults();\n    }\n    return () => {\n      console.log(\"Search has been aborted\");\n      abortController.abort();\n    };\n  }, [search])\n\n\n  return (\n    <div  className=\"page-search\">\n      <div className=\"page-search-top\">\n        <div className=\"page-search-nav\">\n          <Link to={`/meal/${meal}`}>\n            <button>⬅</button>\n          </Link>\n          <h2>{capitalize(meal)}</h2>\n        </div>\n        <input type=\"text\" placeholder=\"🔍 Search Food\" id=\"page-searchbar\" />\n      </div>\n      <div className=\"page-search-items\">\n        {\n          props.results.map((item) => {\n            return <FoodBar key={item.id} id={'foodId-'+item.id} title={item.name} imgSrc={baseSrc+item.image} meal={meal}/>\n          })\n        }\n      </div>\n    </div>\n  );\n}\n\nexport default Search;","import React, {useState, useEffect} from 'react';\nimport '../stylesheets/Food.css';\nimport {Link, useRouteMatch} from \"react-router-dom\";\nimport {foodFrame, dataFrame} from '../functions/constants';\nimport {formatDate, findNutrient, addFood} from '../functions/helperFunctions';\nimport {Dropdown, DropdownElement, MessageDiv , PrimaryButton} from '../stylesheets/styledComponents';\nimport ProgressCircle from '../components/ProgressCircle';\nimport firebase from '../firebase';\n\nconst Food = (props) => {\n  const link = useRouteMatch('/meal/:id/search/:id').url.split('/');\n  console.log('link is: ', link);\n  const foodId=link[link.length-1];\n  let meal = link[link.length-3];\n  console.log('The ID of the food is: ',foodId);\n  console.log('The meal is: ', meal);\n  console.log('The date is: ', formatDate(props.date));\n  //\n  const [result, setResult] = useState(foodFrame);\n  const [data, setData] = useState(dataFrame);\n  const [amount, setAmount] = useState(1);\n  const [unit, setUnit] = useState(\"g\");\n  const [macrosPer, setMacrosPer] = useState([[\"protein\",30], [\"fat\",20], [\"carbs\", 50]]);\n\n\n  // GET DATA\n  useEffect(() => {\n    let abortController = new AbortController();\n    let aborted = abortController.signal.aborted;\n    let firestore = firebase.firestore();\n    const usersRef = firestore.collection('users').doc(firebase.auth().currentUser.uid).collection('days').doc(formatDate(props.date))\n    usersRef.get()\n      .then((docSnapshot) => {\n        if (docSnapshot.exists) {\n          usersRef.onSnapshot((doc) => {\n            aborted = abortController.signal.aborted;\n            if (aborted!==true){\n              setData(doc.data());\n            }\n          });\n        } else {\n          console.log('the doc was not found, need to create it');\n        }\n    });\n    return () => {\n      abortController.abort();\n    }\n  }, [props.date])\n\n  // LISTEN FOR 'ENTER' EVENT AND UPDATE AMOUNT INPUT\n  useEffect(() => {\n    let input = document.getElementById(\"page-food-amount\");\n    input.value = amount;\n    const pressedEnter = (event) => {\n      if (event.keyCode === 13) {\n        event.preventDefault();\n        console.log('clicked on enter from input, value:', input.value);\n        setAmount(input.value);\n      }\n    }\n    input.addEventListener(\"keyup\", pressedEnter);\n    return () => {\n      return input.removeEventListener(\"keyup\", pressedEnter);\n    };\n  }, []);\n\n  // COLLECT RESULT FROM API\n  useEffect(() => {\n    let abortController = new AbortController();\n    let aborted = abortController.signal.aborted;\n    console.log('Amount is now: ', amount, '. Unit is: ', unit);\n    async function fetchResults() {\n      let response = await fetch(`https://api.spoonacular.com/food/ingredients/${foodId}/information?apiKey=${process.env.REACT_APP_SPOONACULAR_API_KEY}&amount=${amount}&unit=${unit}`);\n      let data = await response.json();\n      aborted = abortController.signal.aborted;\n      if (aborted === false){\n        console.log('Result Food: ', data); // FIX: yikes! 'data' is written as a const outside \n        setResult(data);\n      }      \n    }\n    fetchResults();\n    \n    return () => {abortController.abort();};\n  }, [amount, unit, foodId]);\n\n\n  // UPDATE VARIABLES ON RESULT CHANGE\n  useEffect(() => {\n    const myMacros = result.nutrition.caloricBreakdown;\n    console.log('Protein: ', myMacros.percentProtein)\n    setMacrosPer([[\"protein\",myMacros.percentProtein], [\"fat\",myMacros.percentFat], [\"carbs\", myMacros.percentCarbs]]);\n  }, [result])\n\n\n  // TRACK FOOD\n  const trackFood = () => {\n    // TODO: make a 'data' state variable that is the same as the firestore data (all from the date)\n    console.log('Going to Update Firestore');\n    console.log('The result being: ', result);\n    console.log('The data (before update) being: ', data);\n    const updated = addFood(data, meal, result);\n    var db = firebase.firestore();\n    db.collection('users').doc(firebase.auth().currentUser.uid).collection('days').doc(formatDate(props.date)).update(updated)\n\n    // TODO: updata 'data' OR button throws link to Meal page\n  }\n\n\n\n  return (\n    <div  className=\"page-food\">\n      <div className=\"page-food-top\">\n        <h2>{result.name}</h2>\n      </div>\n\n      <div className=\"page-food-section\">\n        <div className=\"page-food-inputs\">\n          <MessageDiv>\n            <h2 className=\"component-message\">Press Enter to Submit</h2>\n            <input type=\"number\" min=\"1\" id=\"page-food-amount\"/>\n          </MessageDiv>\n          <Dropdown fontSize=\"55px\">\n            <button className=\"dropdown-btn\">{unit} ⏷</button>\n            <div className=\"dropdown-content\">\n              {\n                result.possibleUnits.map((unit) => {\n                  return <DropdownElement key={unit} onClick={() => setUnit(unit)}> {unit}</DropdownElement>\n                })\n              }\n            </div>\n          </Dropdown>\n        </div>\n        <div>\n          <h2>{findNutrient(result,\"Calories\").amount} cals</h2>\n        </div>\n      </div>\n\n      <div className=\"page-food-section\">\n        <h3>Nutritional Information</h3>\n        <div className=\"page-food-macros\">\n          {\n            macrosPer.map((macro) => {\n              return <ProgressCircle key={macro[0]} progress={Number(macro[1])} circleSize=\"250\" calories={`${macro[1]}%`} message={macro[0]}/>\n            })\n          }\n        </div>\n        <div className=\"page-food-nutrients\">\n          {\n            result.nutrition.nutrients.map((nutrient) => {\n              return <div className=\"page-food-nutrient\" key={nutrient.name} >\n                <div className=\"page-food-nutrient-top\">\n                  <h4 className=\"page-food-nutrient-top-text\">{nutrient.name}</h4>\n                  <h4 className=\"page-food-nutrient-top-text\">{nutrient.amount + nutrient.unit}</h4>\n                </div>\n                <div>\n                  <h4 className=\"page-food-nutrient-percent\">{nutrient.percentOfDailyNeeds}% of Daily Needs</h4>\n                </div>\n              </div>\n            })\n          }\n        </div>\n      </div>\n\n      <div className=\"page-food-trackDiv\">\n        <Link to={`/meal/${meal}`}>\n          <PrimaryButton onClick={trackFood}>Track Food</PrimaryButton>\n        </Link>\n      </div>\n    </div>\n  );\n}\n\nexport default Food;","  \n\n  \n// CHANGE DATE\nfunction dateReducer (state, action) {\n  switch (action.type) {\n    case 'increment':\n      let iDate = state.date;\n      iDate.setDate(iDate.getDate() + 1);\n      console.log('added: ', iDate);\n      return {date: iDate};\n    case 'decrement':\n      let dDate = state.date;\n      dDate.setDate(dDate.getDate() -1);\n      return {date: dDate};\n    case 'reload':\n      return {date: state.date};\n    default:\n      throw new Error();\n  }\n}\n\n// CHANGE DATA\nfunction dataReducer (state, action) {\n  switch (action.type) {\n    case 'update':\n      return {data: action.payload};\n    default:\n      throw new Error();\n  }\n}\n\n// CHANGE DATA\nfunction resultsReducer (state, action) {\n  switch (action.type) {\n    case 'update':\n      return {results: action.payload};\n    default:\n      throw new Error();\n  }\n}\n\n\nexport {dateReducer, dataReducer, resultsReducer};","import './App.css';\nimport React, {useState, useEffect, useReducer} from 'react';\nimport { BrowserRouter as Router, Switch, Route} from \"react-router-dom\";\nimport Home from './pages/Home';\nimport Meal from './pages/Meal';\nimport Search from './pages/Search';\nimport Food from './pages/Food';\nimport SignIn from './pages/SignIn';\nimport {dateReducer, resultsReducer} from './functions/reducers';\n\nfunction App() {\n\n  const [stateDate, dispatchDate] = useReducer(dateReducer, {date: new Date()});\n  const [stateResults, dispatchResults] = useReducer(resultsReducer, {results: []});\n\n  return (\n    <div className=\"App\">\n      <Router>\n        <Switch> \n          <Route exact path='/lifesum-clone/' component={() => <Home date={stateDate.date} dispatchDate={dispatchDate} />}/>\n          <Route exact path='/meal/:id' component={() => <Meal date={stateDate.date} dispatchDate={dispatchDate}/>}/>\n          <Route exact path='/lifesum-clone/signin' component={() => <SignIn/>}/>\n          <Route exact path='/meal/:id/search' component={() => <Search date={stateDate.date} results={stateResults.results} dispatchResults={dispatchResults}/>}/>\n          <Route exact path='/meal/:id/search/:id' component={() => <Food date={stateDate.date}/>}/>\n        </Switch>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}